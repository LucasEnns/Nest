var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,i){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}(n,i))}function r(t){return null==t?"":t}function o(t,e,n=e){return t.set(n),e}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function v(){return g("")}function w(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t){return""===t?void 0:+t}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}function _(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function C(t,e){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e)return void(i.selected=!0)}}function k(t,e,n){t.classList[n?"add":"remove"](e)}let E;function S(t){E=t}function M(t){(function(){if(!E)throw new Error("Function called outside component initialization");return E})().$$.before_update.push(t)}const R=[],H=[],O=[],P=[],T=Promise.resolve();let A=!1;function B(t){O.push(t)}let N=!1;const W=new Set;function j(){if(!N){N=!0;do{for(let t=0;t<R.length;t+=1){const e=R[t];S(e),L(e.$$)}for(R.length=0;H.length;)H.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];W.has(e)||(W.add(e),e())}O.length=0}while(R.length);for(;P.length;)P.pop()();A=!1,N=!1,W.clear()}}function L(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const G=new Set;function D(t,e){t&&t.i&&(G.delete(t),t.i(e))}function I(t,e,n,i){if(t&&t.o){if(G.has(t))return;G.add(t),undefined.c.push((()=>{G.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function F(t){t&&t.c()}function U(t,n,a){const{fragment:l,on_mount:r,on_destroy:o,after_update:c}=t.$$;l&&l.m(n,a),B((()=>{const n=r.map(e).filter(s);o?o.push(...n):i(n),t.$$.on_mount=[]})),c.forEach(B)}function Y(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(R.push(t),A||(A=!0,T.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(e,s,a,l,r,o,c=[-1]){const u=E;S(e);const d=s.props||{},p=e.$$={fragment:null,ctx:null,props:o,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let f=!1;if(p.ctx=a?a(e,d,((t,n,...i)=>{const s=i.length?i[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),f&&q(e,t)),n})):[],p.update(),f=!0,i(p.before_update),p.fragment=!!l&&l(p.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(h)}else p.fragment&&p.fragment.c();s.intro&&D(e.$$.fragment),U(e,s.target,s.anchor),j()}S(u)}class X{$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}let K="widest",J=!0,Z=!0,Q=.375,V=[],tt={width:49,height:97,margins:.25,max_width:()=>tt.width-2*tt.margins-Q,max_height:()=>tt.height-2*tt.margins-Q};function et(t,e=1,n=Z,i=K,s=J,a=Q,l=tt){V=[];const r=new ot(t.slice(e).flatMap((t=>function([t,e,n,i]){if(n>tt.max_width()||i>tt.max_height())return V.push(`Panneau ${t} est trop gros`),[];if(!n||!i||!e)return[];let s=1,a=[];for(;e>=s;){let l="";e>1&&(l=`${s} sur ${e}`),a.push([l,t,parseFloat(n),parseFloat(i)]),s++}return a}(t).map((t=>new st(t)))))).flat();function o(t){let e=new ot(t.placementBy().place()),n=e[0].height;for(;t.fitsRow(e);){let i=new ot(t.fitsRow(e).place());for(;t.fitsColumn(i,n);)i.push(t.fitsColumn(i,n).place());1===i.length?e.push(i[0]):e.push(i)}return e.ascendingHeight()}function c(t){let e=new ot(t.placementBy().place()),n=e[0].width;for(;t.fitsColumn(e);){let i=new ot(t.fitsColumn(e).place());for(;t.fitsRow(i,n);)i.push(t.fitsRow(i,n).place());1===i.length?e.push(i[0]):e.push(i)}return e.ascendingWidth()}function u(t){let e=new ot(t.placementBy().place());for(;t.fitsSheetColumn(e);)e.push(t.fitsSheetColumn(e).place());return e.ascendingHeight()}function h(t){let e=new ot(t.placementBy().place());for(;t.fitsSheetRow(e);)e.push(t.fitsSheetRow(e).place());return e.ascendingWidth()}function d(t){let e=tt.margins-Q/2,n=new ot;t.forEach(((i,s)=>{0===s?n.push(J?e:tt.height-e-i.height):n.push(J?n.last()+t[s-1].height:n.last()-i.height);let a=new ot;i.group.forEach(((i,l,r)=>{a.push(nt(l)?e:a.last()+r[l-1].columnWidth());let o=nt(s)&&t.length>1;i instanceof st?(i.y=o?n[s]+t[s].height-i.height:n[s],i.x=a[l]):i.forEach(((e,r)=>{e.y=nt(r)?o?n[s]+t[s].height-e.height:n[s]:o?i[r-1].y-e.height:i[r-1].y+i[r-1].height,e.x=a[l]}))}))}))}function p(t){let e=tt.margins-Q/2,n=new ot;t.forEach(((i,s)=>{0===s?n.push(e):n.push(n.last()+t[s-1].width);let a=new ot;i.group.forEach(((i,l,r)=>{a.push(nt(l)?J?e:tt.height-e-i.rowHeight():J?a.last()+r[l-1].rowHeight():a.last()-i.rowHeight());let o=nt(s)&&t.length>1;i instanceof st?(i.x=o?n[s]+t[s].width-i.width:n[s],i.y=a[l]):i.forEach(((e,r)=>{e.x=nt(r)?o?n[s]+t[s].width-e.width:n[s]:o?i[r-1].x-e.width:i[r-1].x+i[r-1].width,e.y=J?a[l]:a[l-1]-e.height}))}))}))}return K=i,J=s,Z=n,Q=a,tt.width=l.width,tt.height=l.height,tt.margins=l.margins,[r,function(t){let e=new ot;if(Z){let n=function(t){let e=new ot;for(;t.notPlaced().length>0;){let n=c(t);e.push(new at(n.columnWidth(),n.columnHeight(),n.totalArea(),n))}return e}(t);for(;n.notPlaced().length>0;){let t=u(n);p(t),e.push(new rt(t.rowWidth(),t.rowHeight(),t.totalArea(),t.map((t=>t.group)).flatten(2),t,e.length+1))}}else{let n=function(t){let e=new ot;for(;t.notPlaced().length>0;){let n=o(t);e.push(new lt(n.rowWidth(),n.rowHeight(),n.totalArea(),n))}return e}(t);for(;n.notPlaced().length>0;){let t=h(n);d(t),e.push(new rt(t.columnWidth(),t.columnHeight(),t.totalArea(),t.map((t=>t.group)).flatten(2),t,e.length+1))}}return e}(r),V]}function nt(t){return 0===t}class it{constructor(){this.placed=!1}place(){return this.placed=!0,this}}class st extends it{constructor([t,e,n,i]){super(),this.uniqueID=t,this.id=e,this.width=n+Q,this.height=i+Q,this.area=this.height*this.width,this.x=0,this.y=0}columnWidth(){return this.width}rowHeight(){return this.height}}class at extends it{constructor(t,e,n,i){super(),this.width=t,this.height=e,this.area=n,this.group=i}}class lt extends at{constructor(t,e,n,i){super(t,e,n,i)}}class rt extends at{constructor(t,e,n,i,s,a){super(t,e,n,i),this.columns=s,this.sheet_width=tt.width,this.sheet_height=tt.height,this.sheet_area=tt.width*tt.height,this.waste_area=this.sheet_area-this.area,this.waste_ratio=1-this.area/this.sheet_area,this.id="Feuille "+a,delete this.placed}}class ot extends Array{first(){return this[0]}last(){return this[this.length-1]}flatten(t=1){let e=this;for(;t--;)e=e.flat();return e}shuffle(){return this.length<3?this:new ot(...this.slice(1),this.first())}ascendingWidth(){return new ot(...this).sort(((t,e)=>e.width!=t.width?e.width-t.width:e.height-t.height))}ascendingHeight(){return new ot(...this).sort(((t,e)=>e.height!=t.height?e.height-t.height:e.width-t.width))}notPlaced(){return this.filter((t=>!t.placed))}widest(){return this.notPlaced().ascendingWidth().first()}narrowest(){return this.notPlaced().ascendingWidth().last()}tallest(){return this.notPlaced().ascendingHeight().first()}shortest(){return this.notPlaced().ascendingHeight().last()}biggest(){return this.sort(((t,e)=>e.area-t.area)).notPlaced().first()}smallest(){return this.sort(((t,e)=>t.area-e.area)).notPlaced().first()}placementBy(){switch(K){case"widest":return this.widest();case"narrowest":return this.narrowest();case"tallest":return this.tallest();case"shortest":return this.shortest();case"biggest":return this.biggest();case"smallest":return this.smallest()}}totalWidth(){return this.reduce(((t,e)=>e instanceof ot?t+e.ascendingWidth().first().width:t+e.width),0)}totalHeight(){return this.reduce(((t,e)=>e instanceof ot?t+e.ascendingHeight().first().height:t+e.height),0)}totalArea(){return this.flatten(3).reduce(((t,e)=>t+e.area),0)}columnWidth(){return this.flat().ascendingWidth().first().width}columnHeight(){return this.totalHeight()}rowWidth(){return this.totalWidth()}rowHeight(){return this.flat().ascendingHeight().first().height}remainingWidth(t){return t-this.totalWidth()}remainingHeight(t){return t-this.totalHeight()}fitsColumn(t,e){return this.filter((e=>e.width<=t[0].width)).fitsSheetRow(t,e)}fitsRow(t,e){return this.filter((e=>e.height<=t[0].height)).fitsSheetColumn(t,e)}fitsSheetColumn(t,e=tt.max_width()){return this.notPlaced().filter((n=>n.width<t.remainingWidth(e))).placementBy()}fitsSheetRow(t,e=tt.max_height()){return this.notPlaced().filter((n=>n.height<t.remainingHeight(e))).placementBy()}}function ct(t){const e=t=>parseFloat(parseFloat(t).toFixed(4));return isNaN(t)?t.includes("/")&&!t.includes(".")?t.split(" ").filter((t=>""!==t)).reduce(((t,n)=>{if(n.includes("/")){let i=n.split("/").filter((t=>""!==t));return t+e(i[0]/i[1])}return t+e(n)}),0):t:e(t)}function ut(t,e){return parseInt(t*10**e)/10**e}function ht(t,e){const n={mm:t.getMonth()+1,dd:t.getDate(),yy:t.getFullYear().toString().slice(-2),yyyy:t.getFullYear(),H:t.getHours(),M:t.getMinutes(),S:t.getSeconds()};return e.replace(/mm|dd|yy|yyyy|H|M|S/gi,(t=>n[t]))}let dt=30,pt=120,ft=1;function gt(t,e,n,i){return[`( ${n} )`,`( ${i} feuilles a couper )`,`( ${ht(new Date,"dd/mm/yyyy H:M")} )`,"G40 G80 G70","M06 T"+t,"G43 H"+t,`S${e} M03`,"G54 G90"]}function mt(t,e,n){return`G00 X${$t(t)} Y${$t(e)} Z${$t(n)}`}function vt(t){return"G00 Z"+$t(t)}function wt(t,e,n,i){return`G01 X${$t(t)} Y${$t(e)} Z${$t(n)} F${i}`}function yt(t,e,n,i){return`G01 X${$t(t)} Y${$t(e)} Z${$t(n)} F${i}`}function xt(t){return"X"+$t(t)}function bt(t){return"Y"+$t(t)}function $t(t){return/\./.test(t)||0===t?t:t.toFixed(1)}function _t(t,e,n){dt=e.width/2,pt=e.height+10;let i=[...gt(9,18e3,n,t.length)];return t.forEach((t=>{var n;i.push(`( ${t.id} )`),t.columns.forEach(((t,n)=>{t.group.flat().sort(((t,e)=>function(t,e,n){n%2==0?e.y!==t.y?(e.y,t.y):(t.x,e.x):t.y!==e.y?(t.y,e.y):(e.x,t.x)}(t,e,n))).forEach((t=>i.push(function(t,e){ft=e.thickness+.25;const{x:n,y:i,width:s,height:a}=t;let l=n+s,r=i+a,o=i+a/5,c=o+ft;return[`( coupe panneau ${t.id} )`,`( ${t.uniqueID} )`,mt(n,o,ft),wt(n,c,0,50),yt(n,r,0,400),xt(l),bt(i),xt(n),bt(c),vt(ft),`( fin panneau ${t.id} )`]}(t,e))))})),i.push((n=pt,["M05 M104",`G90 X${$t(dt)} Y${$t(n)}`,"M00","( changez la feuille et )","( cycle start :)","M103 M03"]))})),i.pop(),i.push(["G40 G80 G91 G28 Z0 M5",`G00 G90 X${$t(dt)} Y${$t(pt)}`,"M30"]),i.flat().join("\n")}const Ct=[];function kt(e,n=t){let i;const s=[];function l(t){if(a(e,t)&&(e=t,i)){const t=!Ct.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),Ct.push(n,e)}if(t){for(let t=0;t<Ct.length;t+=2)Ct[t][0](Ct[t+1]);Ct.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(a,r=t){const o=[a,r];return s.push(o),1===s.length&&(i=n(l)||t),a(e),()=>{const t=s.indexOf(o);-1!==t&&s.splice(t,1),0===s.length&&(i(),i=null)}}}}const Et=(t,e)=>{const n=t=>JSON.stringify(t,null,2),i=JSON.parse;null===sessionStorage.getItem(t)&&sessionStorage.setItem(t,n(e));const s=i(sessionStorage.getItem(t)),{subscribe:a,set:l,update:r}=kt(s);return{subscribe:a,set:e=>(sessionStorage.setItem(t,n(e)),l(e)),update:r}};const St={name:ht(new Date,"yymmdd-HM"),errors:[],contents:[["Project name:","New"],["Border (+ or -)",0],["Metric units",!1],[,,,],["Panel","Q","W","H"],[1,,,]]},Mt=((t,e)=>{const n=t=>JSON.stringify(t,null,2),i=JSON.parse;null===localStorage.getItem(t)&&localStorage.setItem(t,n(e));const s=i(localStorage.getItem(t)),{subscribe:a,set:l,update:r}=kt(s);return{subscribe:a,set:e=>(localStorage.setItem(t,n(e)),l(e)),update:r}})("settings",{material:{type:"",colour:"",width:49,height:97,thickness:.75,margins:.3},tool:9,nestTypeColumn:!1,nestOrder:"widest",nestDirectionBottom:!0,units:!1,show:!0,cnc:{1:{type:"Endmill",diameter:.1875,spindle:18e3,feed:75,plunge:75,ramp:1,max_depth:.125},2:{type:"Endmill",diameter:.75,spindle:18e3,feed:150,plunge:40,ramp:3,max_depth:3},3:{type:"Ballnose",diameter:.125,spindle:18e3,feed:150,plunge:40,ramp:1,max_depth:.125},4:{type:"Edger",diameter:.75,spindle:18e3,feed:100,plunge:40,ramp:2.25,max_depth:2.25},5:{type:"drill",diameter:.19685,spindle:18e3,feed:0,plunge:70,ramp:0,max_depth:1},6:{type:"Endmill",diameter:.25,spindle:18e3,feed:150,plunge:40,ramp:1,max_depth:.125},7:{type:"drill",diameter:.31496,spindle:18e3,feed:0,plunge:70,ramp:0,max_depth:1},8:{type:"surfacing",diameter:2.5,spindle:1e4,feed:75,plunge:30,ramp:8,max_depth:.125},9:{type:"Endmill",diameter:.375,spindle:18e3,feed:400,plunge:70,ramp:1,max_depth:.875},10:{type:"Endmill",diameter:.375,spindle:18e3,feed:400,plunge:70,ramp:1,max_depth:.875},11:{type:"drill",diameter:.3937,spindle:18e3,feed:0,plunge:70,ramp:0,max_depth:1},12:{type:"Vcarve",diameter:1.5,spindle:18e3,feed:75,plunge:40,ramp:1,max_depth:.75}}}),Rt=Et("panels",[]),Ht=Et("sheets",[]),Ot=Et("csv-file",St),Pt=Et("svg",""),Tt=Et("activePanel","");var At="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Bt,Nt;(function(t,e){!function(){function e(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){r(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function s(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof At&&At.global===At?At:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(t,e,l){var r=a.URL||a.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener","string"==typeof t?(o.href=t,o.origin===location.origin?s(o):i(o.href)?n(t,e,l):s(o,o.target="_blank")):(o.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(o.href)}),4e4),setTimeout((function(){s(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,l){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,l),a);else if(i(t))n(t,a,l);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){s(r)}))}}:function(t,e,i,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,i);var r="application/octet-stream"===t.type,o=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&o||l)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location=t,s=null},u.readAsDataURL(t)}else{var h=a.URL||a.webkitURL,d=h.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});a.saveAs=r.saveAs=r,t.exports=r}()})(Nt={path:Bt,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&Nt.path)}},Nt.exports),Nt.exports;function Wt(e){let n,i,s,a,l;return{c(){n=p("div"),i=m(),s=p("div"),a=m(),l=p("div"),y(n,"class","file-icon dl-csv-block blocked svelte-eyl72a"),y(s,"class","file-icon dl-svg-block blocked svelte-eyl72a"),y(l,"class","file-icon dl-cnc-block blocked svelte-eyl72a")},m(t,e){u(t,n,e),u(t,i,e),u(t,s,e),u(t,a,e),u(t,l,e)},p:t,d(t){t&&h(n),t&&h(i),t&&h(s),t&&h(a),t&&h(l)}}}function jt(t){let e,n,i,s,a,l,r,o,d,f,g,v,w,x;return{c(){e=p("a"),n=p("span"),n.textContent="download .csv file",a=m(),l=p("a"),r=p("span"),r.textContent="download .svg file",f=m(),g=p("a"),v=p("span"),v.textContent="download .cnc file",y(n,"class","svelte-eyl72a"),y(e,"href",i="data:text/plain;charset=utf-8,"+encodeURIComponent(t[11])),y(e,"download",s=t[5].name+t[12]+".csv"),y(e,"role","button"),y(e,"data-lang",t[10]),y(e,"data-fr","téléchargez le fichier .csv"),y(e,"class","file-icon dl-csv svelte-eyl72a"),y(r,"class","svelte-eyl72a"),y(l,"href",o="data:text/plain;charset=utf-8,"+encodeURIComponent(t[9])),y(l,"download",d=t[5].name+t[12]+".svg"),y(l,"alt","download svg file"),y(l,"role","button"),y(l,"data-lang",t[10]),y(l,"data-fr","telechargez le fichier .svg"),y(l,"class","file-icon dl-svg svelte-eyl72a"),y(v,"class","svelte-eyl72a"),y(g,"href",w="data:text/plain;charset=utf-8,"+encodeURIComponent(t[6]())),y(g,"download",x=t[5].name+t[12]+".cnc"),y(g,"role","button"),y(g,"data-lang",t[10]),y(g,"data-fr","telechargez le fichier .cnc"),y(g,"class","file-icon dl-cnc svelte-eyl72a")},m(i,s){u(i,e,s),c(e,n),t[19](e),u(i,a,s),u(i,l,s),c(l,r),t[20](l),u(i,f,s),u(i,g,s),c(g,v),t[21](g)},p(t,n){32&n&&s!==(s=t[5].name+t[12]+".csv")&&y(e,"download",s),512&n&&o!==(o="data:text/plain;charset=utf-8,"+encodeURIComponent(t[9]))&&y(l,"href",o),32&n&&d!==(d=t[5].name+t[12]+".svg")&&y(l,"download",d),64&n&&w!==(w="data:text/plain;charset=utf-8,"+encodeURIComponent(t[6]()))&&y(g,"href",w),32&n&&x!==(x=t[5].name+t[12]+".cnc")&&y(g,"download",x)},d(n){n&&h(e),t[19](null),n&&h(a),n&&h(l),t[20](null),n&&h(f),n&&h(g),t[21](null)}}}function Lt(e){let n,s,a,l,r,o,d,f,g,v,x,b,$,_,C,E,S;function M(t,e){return t[7].length?jt:Wt}document.title=n="Project: "+e[5].name||"Nest";let R=M(e),H=R(e);return{c(){s=m(),a=p("div"),l=p("input"),r=m(),o=p("label"),d=p("span"),d.textContent="upload a .csv file",g=m(),v=p("div"),x=p("span"),x.textContent="new file",b=m(),H.c(),$=m(),_=p("div"),C=p("span"),C.textContent="cnc + project settings",y(l,"class","inputfile svelte-eyl72a"),y(l,"name","file"),y(l,"id","file"),y(l,"type","file"),y(d,"class","svelte-eyl72a"),y(o,"for","file"),y(o,"data-lang",e[10]),y(o,"data-fr","téléversez un fichier .csv"),y(o,"class",f="file-icon "+(e[0]?"badfile":"upload")+" svelte-eyl72a"),y(x,"class","svelte-eyl72a"),y(v,"tabindex","0"),y(v,"role","button"),y(v,"data-lang",e[10]),y(v,"data-fr","nouveau fichier"),y(v,"class","file-icon new svelte-eyl72a"),y(C,"class","svelte-eyl72a"),y(_,"tabindex","0"),y(_,"role","button"),y(_,"data-lang",e[10]),y(_,"data-fr","cnc + projet parametre"),y(_,"class","file-icon setting-icon svelte-eyl72a"),k(_,"active",e[8].show),y(a,"class","file-mgmt svelte-eyl72a")},m(t,n){u(t,s,n),u(t,a,n),c(a,l),e[17](l),c(a,r),c(a,o),c(o,d),c(a,g),c(a,v),c(v,x),c(a,b),H.m(a,null),c(a,$),c(a,_),c(_,C),E||(S=[w(window,"keydown",e[15]),w(window,"keyup",e[16]),w(l,"change",e[14]),w(o,"mouseover",e[18]),w(v,"click",e[13]),w(_,"click",e[22])],E=!0)},p(t,[e]){32&e&&n!==(n="Project: "+t[5].name||"Nest")&&(document.title=n),1&e&&f!==(f="file-icon "+(t[0]?"badfile":"upload")+" svelte-eyl72a")&&y(o,"class",f),R===(R=M(t))&&H?H.p(t,e):(H.d(1),H=R(t),H&&(H.c(),H.m(a,$))),256&e&&k(_,"active",t[8].show)},i:t,o:t,d(t){t&&h(s),t&&h(a),e[17](null),H.d(),E=!1,i(S)}}}function Gt(t,e,n){let i,s,a,r;l(t,Ot,(t=>n(5,i=t))),l(t,Ht,(t=>n(7,s=t))),l(t,Mt,(t=>n(8,a=t))),l(t,Pt,(t=>n(9,r=t)));let c,u=navigator.language||navigator.userLanguage,h=!1,d=i.contents.join("\n");const p=ht(new Date,"_yymmdd");function f(){o(Ot,i={...St})}let g,m,v,w={};let y;return t.$$.update=()=>{416&t.$$.dirty&&n(6,y=()=>_t(s,a.material,i.name))},[h,c,g,m,v,i,y,s,a,r,u,d,p,f,function(){if(c.files)if(c.files[0].name.includes(".csv")){o(Ot,i.name=c.files[0].name.replace(".csv",""),i);let t=new FileReader;t.readAsText(c.files[0]),t.onload=function(t){o(Ot,i.contents=function(t,e=1,n=","){for(var i=new RegExp("(\\"+n+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+n+"\\r\\n]*))","gi"),s=[[]],a=null;a=i.exec(t);){var l=a[1];if(l.length&&l!=n&&s.push([]),a[2])var r=a[2].replace(new RegExp('""',"g"),'"');else r=a[3];/\d/.test(r)&&(r=ct(r)),s[s.length-1].push(r)}return s.filter(((t,n)=>n<e||t.filter((t=>""!==t)).length))}(t.target.result,5),i),n(0,h=!1)}}else n(0,h=!0)},function(t){w[t.code]=!0;const e=t=>(w.AltLeft||w.AltRight)&&w[t];e("KeyO")&&setTimeout((()=>c.click()),140),e("KeyN")&&f(),e("KeyV")&&g.click(),e("KeyG")&&m.click(),e("KeyC")&&v.click(),e("KeyS")&&o(Mt,a.show=!a.show,a)},function(t){delete w[t.code]},function(t){H[t?"unshift":"push"]((()=>{c=t,n(1,c)}))},()=>n(0,h=!1),function(t){H[t?"unshift":"push"]((()=>{g=t,n(2,g)}))},function(t){H[t?"unshift":"push"]((()=>{m=t,n(3,m)}))},function(t){H[t?"unshift":"push"]((()=>{v=t,n(4,v)}))},()=>o(Mt,a.show=!a.show,a)]}class Dt extends X{constructor(t){super(),z(this,t,Gt,Lt,a,{})}}function It(t,e,n){const i=t.slice();return i[18]=e[n],i[19]=e,i[20]=n,i}function Ft(t,e,n){const i=t.slice();return i[21]=e[n],i}function Ut(t){let e,n,s,a,l,r,o,f,g,x,b,_,C,k,E,S,M,R,H,O,P,T=t[1].errors.length&&Yt(t),A=t[0],B=[];for(let e=0;e<A.length;e+=1)B[e]=zt(It(t,A,e));return{c(){T&&T.c(),e=m(),n=p("ul"),s=p("li"),s.textContent="PROJECT:",a=m(),l=p("li"),r=m(),o=p("li"),f=p("input"),g=m(),x=p("ul"),b=p("li"),b.textContent="Panel",_=m(),C=p("li"),C.textContent="Q",k=m(),E=p("li"),E.textContent="W",S=m(),M=p("li"),M.textContent="H",R=m();for(let t=0;t<B.length;t+=1)B[t].c();H=v(),y(s,"class","svelte-5c540f"),y(l,"class","svelte-5c540f"),y(f,"class","title svelte-5c540f"),y(f,"type","text"),y(o,"class","svelte-5c540f"),y(n,"class","svelte-5c540f"),y(b,"class","svelte-5c540f"),y(C,"class","svelte-5c540f"),y(E,"class","svelte-5c540f"),y(M,"class","svelte-5c540f"),y(x,"class","svelte-5c540f")},m(i,h){T&&T.m(i,h),u(i,e,h),u(i,n,h),c(n,s),c(n,a),c(n,l),c(n,r),c(n,o),c(o,f),$(f,t[1].contents[0][1]),u(i,g,h),u(i,x,h),c(x,b),c(x,_),c(x,C),c(x,k),c(x,E),c(x,S),c(x,M),u(i,R,h);for(let t=0;t<B.length;t+=1)B[t].m(i,h);u(i,H,h),O||(P=[w(f,"input",t[7]),w(b,"click",t[8]),w(C,"click",t[9]),w(E,"click",t[10]),w(M,"click",t[11])],O=!0)},p(t,n){if(t[1].errors.length?T?T.p(t,n):(T=Yt(t),T.c(),T.m(e.parentNode,e)):T&&(T.d(1),T=null),2&n&&f.value!==t[1].contents[0][1]&&$(f,t[1].contents[0][1]),13&n){let e;for(A=t[0],e=0;e<A.length;e+=1){const i=It(t,A,e);B[e]?B[e].p(i,n):(B[e]=zt(i),B[e].c(),B[e].m(H.parentNode,H))}for(;e<B.length;e+=1)B[e].d(1);B.length=A.length}},d(t){T&&T.d(t),t&&h(e),t&&h(n),t&&h(g),t&&h(x),t&&h(R),d(B,t),t&&h(H),O=!1,i(P)}}}function Yt(t){let e,n,i,s,a,l,r=t[1].errors.length>1?"S":"",o=t[1].errors,f=[];for(let e=0;e<o.length;e+=1)f[e]=qt(Ft(t,o,e));return{c(){e=p("h5"),n=g("ERROR"),i=g(r),s=g(":"),a=m();for(let t=0;t<f.length;t+=1)f[t].c();l=v()},m(t,r){u(t,e,r),c(e,n),c(e,i),c(e,s),u(t,a,r);for(let e=0;e<f.length;e+=1)f[e].m(t,r);u(t,l,r)},p(t,e){if(2&e&&r!==(r=t[1].errors.length>1?"S":"")&&b(i,r),2&e){let n;for(o=t[1].errors,n=0;n<o.length;n+=1){const i=Ft(t,o,n);f[n]?f[n].p(i,e):(f[n]=qt(i),f[n].c(),f[n].m(l.parentNode,l))}for(;n<f.length;n+=1)f[n].d(1);f.length=o.length}},d(t){t&&h(e),t&&h(a),d(f,t),t&&h(l)}}}function qt(t){let e,n,i=t[21]+"";return{c(){e=p("p"),n=g(i)},m(t,i){u(t,e,i),c(e,n)},p(t,e){2&e&&i!==(i=t[21]+"")&&b(n,i)},d(t){t&&h(e)}}}function zt(t){let e,n,s,a,l,o,d,f,g,v,b,_,C,k,E,S,M,R;function H(){t[12].call(s,t[19],t[20])}function O(){t[13].call(o,t[19],t[20])}function P(){t[14].call(g,t[19],t[20])}function T(){t[15].call(C,t[19],t[20])}function A(...e){return t[16](t[18],...e)}return{c(){e=p("ul"),n=p("li"),s=p("input"),a=m(),l=p("li"),o=p("input"),d=m(),f=p("li"),g=p("input"),b=m(),_=p("li"),C=p("input"),E=m(),y(s,"type","text"),y(s,"class","svelte-5c540f"),y(n,"class","svelte-5c540f"),y(o,"type","number"),y(o,"min","0"),y(o,"max","100"),y(o,"class","svelte-5c540f"),y(l,"class","svelte-5c540f"),y(g,"type","number"),y(g,"min","0"),y(g,"max",v=t[3].material.width-2*t[3].material.margins),y(g,"step","0.03125"),y(g,"class","svelte-5c540f"),y(f,"class","svelte-5c540f"),y(C,"type","number"),y(C,"min","0"),y(C,"max",k=t[3].material.height-2*t[3].material.margins),y(C,"step","0.03125"),y(C,"class","svelte-5c540f"),y(_,"class","svelte-5c540f"),y(e,"class",S=r(t[2]==t[18][0]?"active":"")+" svelte-5c540f")},m(i,r){u(i,e,r),c(e,n),c(n,s),$(s,t[18][0]),c(e,a),c(e,l),c(l,o),$(o,t[18][1]),c(e,d),c(e,f),c(f,g),$(g,t[18][2]),c(e,b),c(e,_),c(_,C),$(C,t[18][3]),c(e,E),M||(R=[w(s,"input",H),w(s,"focus",Kt),w(o,"input",O),w(o,"focus",Kt),w(g,"input",P),w(g,"focus",Kt),w(C,"input",T),w(C,"focus",Kt),w(e,"mouseenter",A),w(e,"mouseleave",t[17])],M=!0)},p(n,i){t=n,1&i&&s.value!==t[18][0]&&$(s,t[18][0]),1&i&&x(o.value)!==t[18][1]&&$(o,t[18][1]),8&i&&v!==(v=t[3].material.width-2*t[3].material.margins)&&y(g,"max",v),1&i&&x(g.value)!==t[18][2]&&$(g,t[18][2]),8&i&&k!==(k=t[3].material.height-2*t[3].material.margins)&&y(C,"max",k),1&i&&x(C.value)!==t[18][3]&&$(C,t[18][3]),5&i&&S!==(S=r(t[2]==t[18][0]?"active":"")+" svelte-5c540f")&&y(e,"class",S)},d(t){t&&h(e),M=!1,i(R)}}}function Xt(e){let n,i,s,a,l,r,o=e[1].name&&Ut(e);return{c(){n=p("div"),i=p("div"),o&&o.c(),s=m(),a=p("ul"),a.textContent="+",y(a,"class","new-row svelte-5c540f"),y(i,"class","svelte-5c540f"),y(n,"class","wrapper svelte-5c540f")},m(t,h){u(t,n,h),c(n,i),o&&o.m(i,null),c(i,s),c(i,a),l||(r=w(a,"click",e[4]),l=!0)},p(t,[e]){t[1].name?o?o.p(t,e):(o=Ut(t),o.c(),o.m(i,s)):o&&(o.d(1),o=null)},i:t,o:t,d(t){t&&h(n),o&&o.d(),l=!1,r()}}}function Kt(){this.select()}function Jt(t,e,n){let i,s,a;function r(t){n(0,u=u.sort(((e,n)=>e[t]-n[t])))}function c(t){n(0,u=u.sort(((e,n)=>n[t]-e[t])))}l(t,Ot,(t=>n(1,i=t))),l(t,Tt,(t=>n(2,s=t))),l(t,Mt,(t=>n(3,a=t)));let u;return t.$$.update=()=>{2&t.$$.dirty&&n(0,u=i.contents.slice(5))},[u,i,s,a,function(){let t=[u.length+1,,];o(Ot,i.contents=[...i.contents,t],i)},r,c,function(){i.contents[0][1]=this.value,Ot.set(i)},()=>r(0),()=>c(1),()=>c(2),()=>c(3),function(t,e){t[e][0]=this.value,n(0,u),n(1,i)},function(t,e){t[e][1]=x(this.value),n(0,u),n(1,i)},function(t,e){t[e][2]=x(this.value),n(0,u),n(1,i)},function(t,e){t[e][3]=x(this.value),n(0,u),n(1,i)},t=>o(Tt,s=t[0]),()=>o(Tt,s="")]}class Zt extends X{constructor(t){super(),z(this,t,Jt,Xt,a,{})}}function Qt(t,e,n){const i=t.slice();return i[19]=e[n],i}function Vt(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function te(t){let e,n,i,s,a,l,r,o,d,f,v,w,x,$,C,k,E,S,M,R,H=t[7][t[0]].id+"",O=ut(t[7][t[0]].area/144,2)+"",P=ut(t[7][t[0]].waste_area/144,2)+"",T=ut(100*t[7][t[0]].waste_ratio,2)+"";return{c(){e=p("div"),n=p("h4"),i=g(H),s=m(),a=p("p"),l=g("area des panneaux: "),r=g(O),o=g(" pi"),d=p("sup"),d.textContent="2",f=m(),v=p("p"),w=g("area de perte:\n      "),x=g(P),$=g("\n      pi"),C=p("sup"),C.textContent="2",k=m(),E=p("p"),S=g("% de perte: "),M=g(T),R=g("%"),y(d,"class","svelte-1nnwdec"),y(C,"class","svelte-1nnwdec"),y(e,"class","infocard svelte-1nnwdec"),_(e,"left",t[3]+"px"),_(e,"top",t[2]+"px")},m(t,h){u(t,e,h),c(e,n),c(n,i),c(e,s),c(e,a),c(a,l),c(a,r),c(a,o),c(a,d),c(e,f),c(e,v),c(v,w),c(v,x),c(v,$),c(v,C),c(e,k),c(e,E),c(E,S),c(E,M),c(E,R)},p(t,n){129&n&&H!==(H=t[7][t[0]].id+"")&&b(i,H),129&n&&O!==(O=ut(t[7][t[0]].area/144,2)+"")&&b(r,O),129&n&&P!==(P=ut(t[7][t[0]].waste_area/144,2)+"")&&b(x,P),129&n&&T!==(T=ut(100*t[7][t[0]].waste_ratio,2)+"")&&b(M,T),8&n&&_(e,"left",t[3]+"px"),4&n&&_(e,"top",t[2]+"px")},d(t){t&&h(e)}}}function ee(t){let e,n,s,a,l,r,o,d,p,m,v,x,$,C,k=t[19].id+"";return{c(){e=f("rect"),d=f("text"),p=g(k),_(e,"stroke-width",t[6].cnc[t[6].tool].diameter*t[8]+"px"),y(e,"class",n="panel "+(t[5]==t[19].id?"active":"")+" print svelte-1nnwdec"),y(e,"id",s=t[19].id),y(e,"x",a=(t[19].x+t[14](t[18]).x)*t[8]),y(e,"y",l=(t[13](t[19].y,t[19].height)+t[14](t[18]).y)*t[8]),y(e,"width",r=t[19].width*t[8]),y(e,"height",o=t[19].height*t[8]),_(d,"font-size",Math.min(.8*t[19].height,5)*t[8]+"px"),y(d,"class",m="id "+(t[5]==t[19].id?"active":"")+" print svelte-1nnwdec"),y(d,"x",v=(t[19].x+t[14](t[18]).x+t[19].width/2)*t[8]),y(d,"y",x=(t[13](t[19].y,t[19].height)+t[14](t[18]).y+Math.min(.8*t[19].height,5)/3+t[19].height/2)*t[8])},m(n,i){u(n,e,i),u(n,d,i),c(d,p),$||(C=[w(e,"mouseover",t[9]),w(e,"mouseleave",t[10])],$=!0)},p(t,i){64&i&&_(e,"stroke-width",t[6].cnc[t[6].tool].diameter*t[8]+"px"),160&i&&n!==(n="panel "+(t[5]==t[19].id?"active":"")+" print svelte-1nnwdec")&&y(e,"class",n),128&i&&s!==(s=t[19].id)&&y(e,"id",s),128&i&&a!==(a=(t[19].x+t[14](t[18]).x)*t[8])&&y(e,"x",a),128&i&&l!==(l=(t[13](t[19].y,t[19].height)+t[14](t[18]).y)*t[8])&&y(e,"y",l),128&i&&r!==(r=t[19].width*t[8])&&y(e,"width",r),128&i&&o!==(o=t[19].height*t[8])&&y(e,"height",o),128&i&&k!==(k=t[19].id+"")&&b(p,k),128&i&&_(d,"font-size",Math.min(.8*t[19].height,5)*t[8]+"px"),160&i&&m!==(m="id "+(t[5]==t[19].id?"active":"")+" print svelte-1nnwdec")&&y(d,"class",m),128&i&&v!==(v=(t[19].x+t[14](t[18]).x+t[19].width/2)*t[8])&&y(d,"x",v),128&i&&x!==(x=(t[13](t[19].y,t[19].height)+t[14](t[18]).y+Math.min(.8*t[19].height,5)/3+t[19].height/2)*t[8])&&y(d,"y",x)},d(t){t&&h(e),t&&h(d),$=!1,i(C)}}}function ne(t){let e,n,s,a,l,r,o,p,g,m,v=t[16].group,x=[];for(let e=0;e<v.length;e+=1)x[e]=ee(Qt(t,v,e));return{c(){e=f("g"),n=f("rect"),p=f("g");for(let t=0;t<x.length;t+=1)x[t].c();_(n,"stroke-width",t[6].material.margins*t[8]+"px"),y(n,"class","sheet print svelte-1nnwdec"),y(n,"id",s=t[18]),y(n,"x",a=(t[14](t[18]).x+t[6].material.margins/2)*t[8]),y(n,"y",l=(t[14](t[18]).y+t[6].material.margins/2)*t[8]),y(n,"width",r=(t[16].sheet_width-t[6].material.margins)*t[8]),y(n,"height",o=(t[16].sheet_height-t[6].material.margins)*t[8]),y(e,"id","sheets"),y(p,"id","panels")},m(i,s){u(i,e,s),c(e,n),u(i,p,s);for(let t=0;t<x.length;t+=1)x[t].m(p,null);g||(m=[w(n,"mouseover",t[11]),w(n,"mouseleave",t[12])],g=!0)},p(t,e){if(64&e&&_(n,"stroke-width",t[6].material.margins*t[8]+"px"),64&e&&a!==(a=(t[14](t[18]).x+t[6].material.margins/2)*t[8])&&y(n,"x",a),64&e&&l!==(l=(t[14](t[18]).y+t[6].material.margins/2)*t[8])&&y(n,"y",l),192&e&&r!==(r=(t[16].sheet_width-t[6].material.margins)*t[8])&&y(n,"width",r),192&e&&o!==(o=(t[16].sheet_height-t[6].material.margins)*t[8])&&y(n,"height",o),26592&e){let n;for(v=t[16].group,n=0;n<v.length;n+=1){const i=Qt(t,v,n);x[n]?x[n].p(i,e):(x[n]=ee(i),x[n].c(),x[n].m(p,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=v.length}},d(t){t&&h(e),t&&h(p),d(x,t),g=!1,i(m)}}}function ie(e){let n,i,s,a,l,r,o,v=e[1]&&te(e),w=e[7],x=[];for(let t=0;t<w.length;t+=1)x[t]=ne(Vt(e,w,t));return{c(){v&&v.c(),n=m(),i=p("div"),s=f("svg");for(let t=0;t<x.length;t+=1)x[t].c();a=g(">"),y(s,"class","print svelte-1nnwdec"),y(s,"version","1.1"),y(s,"xmlns","http://www.w3.org/2000/svg"),y(s,"xmlns:xlink","http://www.w3.org/1999/xlink"),y(s,"width",l=e[14](e[7].length-1).w*e[8]||0),y(s,"height",r=e[14](e[7].length-1).h*e[8]||0),y(s,"viewBox",o="0 0 "+(e[14](e[7].length-1).w*e[8]||0)+" "+(e[14](e[7].length-1).h*e[8]||0)),y(s,"preserveAspectRatio","xMidYMid meet"),y(i,"class","viewer svelte-1nnwdec")},m(t,l){v&&v.m(t,l),u(t,n,l),u(t,i,l),c(i,s);for(let t=0;t<x.length;t+=1)x[t].m(s,null);c(s,a),e[15](i)},p(t,[e]){if(t[1]?v?v.p(t,e):(v=te(t),v.c(),v.m(n.parentNode,n)):v&&(v.d(1),v=null),32736&e){let n;for(w=t[7],n=0;n<w.length;n+=1){const i=Vt(t,w,n);x[n]?x[n].p(i,e):(x[n]=ne(i),x[n].c(),x[n].m(s,a))}for(;n<x.length;n+=1)x[n].d(1);x.length=w.length}128&e&&l!==(l=t[14](t[7].length-1).w*t[8]||0)&&y(s,"width",l),128&e&&r!==(r=t[14](t[7].length-1).h*t[8]||0)&&y(s,"height",r),128&e&&o!==(o="0 0 "+(t[14](t[7].length-1).w*t[8]||0)+" "+(t[14](t[7].length-1).h*t[8]||0))&&y(s,"viewBox",o)},i:t,o:t,d(t){v&&v.d(t),t&&h(n),t&&h(i),d(x,t),e[15](null)}}}function se(t,e,n){let i,s,a;l(t,Tt,(t=>n(5,i=t))),l(t,Mt,(t=>n(6,s=t))),l(t,Ht,(t=>n(7,a=t)));let r,c,u=!1,h=0,d=0;return[r,u,h,d,c,i,s,a,90,function(){o(Tt,i=this.id)},function(){o(Tt,i="")},function(){n(1,u=!0);let t=this.getBoundingClientRect();n(2,h=(t.bottom-t.top)/2+t.top),n(3,d=(t.right-t.left)/2+t.left),n(0,r=this.id)},function(){n(1,u=!1)},function(t,e){return s.material.height-e-t},function(t){let e=Math.ceil(a.length/5),n=Math.ceil(a.length/e),i=Math.ceil((t+1)/n)-1;return{x:t%n*s.material.width,y:i*s.material.height,w:n*s.material.width,h:e*s.material.height}},function(t){H[t?"unshift":"push"]((()=>{c=t,n(4,c)}))}]}class ae extends X{constructor(t){super(),z(this,t,se,ie,a,{})}}function le(e){let n,s,a,l,r,o,d,f,g,v,b,_,E,S,M,R,H,O,P,T,A,N,W,j,L,G,D,I,F,U,Y,q,z,X,K,J,Z,Q,V,tt,et,nt,it,st,at,lt,rt,ot,ct,ut,ht,dt,pt,ft,gt,mt,vt,wt,yt,xt,bt,$t,_t,Ct,kt,Et,St,Mt,Rt,Ht,Ot,Pt,Tt,At,Bt,Nt,Wt,jt,Lt,Gt,Dt,It,Ft,Ut,Yt,qt,zt,Xt,Kt,Jt,Zt,Qt,Vt,te,ee,ne,ie,se,ae,le,re,oe,ce,ue,he,de,pe,fe,ge,me,ve,we,ye,xe,be,$e,_e,Ce,ke,Ee,Se,Me,Re,He,Oe,Pe,Te,Ae,Be,Ne,We,je,Le,Ge,De;return{c(){n=p("div"),s=p("div"),a=p("h1"),l=p("span"),l.textContent="Settings",r=m(),o=p("div"),d=p("div"),f=p("h3"),g=p("span"),g.textContent="Units:",v=m(),b=p("label"),_=p("input"),E=m(),S=p("div"),M=m(),R=p("div"),H=p("h3"),O=p("span"),O.textContent="Nest from:",P=m(),T=p("label"),A=p("input"),N=m(),W=p("div"),j=m(),L=p("div"),G=p("h3"),D=p("span"),D.textContent="Nest with:",I=m(),F=p("label"),U=p("input"),Y=m(),q=p("div"),z=m(),X=p("div"),K=p("h3"),J=p("span"),J.textContent="Nest by:",Z=m(),Q=p("select"),V=p("option"),tt=p("span"),tt.textContent="widest",et=m(),nt=p("option"),it=p("span"),it.textContent="tallest",st=m(),at=p("option"),lt=p("span"),lt.textContent="biggest",rt=m(),ot=p("div"),ct=p("h3"),ut=p("span"),ut.textContent="Sheet info:",ht=m(),dt=p("h5"),pt=p("span"),pt.textContent="Width:",ft=m(),gt=p("input"),mt=m(),vt=p("h5"),wt=p("span"),wt.textContent="Height:",yt=m(),xt=p("input"),bt=m(),$t=p("h5"),_t=p("span"),_t.textContent="Thickness:",Ct=m(),kt=p("input"),Et=m(),St=p("div"),Mt=p("h5"),Rt=p("span"),Rt.textContent="Margins:",Ht=m(),Ot=p("input"),Pt=m(),Tt=p("div"),At=p("div"),Bt=p("h3"),Nt=p("span"),Nt.textContent="Profile cutting tool:",Wt=m(),jt=p("h5"),Lt=p("span"),Lt.textContent="Tool #:",Gt=m(),Dt=p("input"),It=m(),Ft=p("div"),Ut=p("h5"),Yt=p("span"),Yt.textContent="Type:",qt=m(),zt=p("input"),Xt=m(),Kt=p("div"),Jt=p("h5"),Zt=p("span"),Zt.textContent="Diameter:",Qt=m(),Vt=p("input"),te=m(),ee=p("div"),ne=p("h5"),ie=p("span"),ie.textContent="Spindle speed:",se=m(),ae=p("input"),le=m(),re=p("span"),re.textContent="RPM",oe=m(),ce=p("div"),ue=p("h5"),he=p("span"),he.textContent="Feed rate:",de=m(),pe=p("input"),fe=m(),ge=p("span"),ge.textContent="in/min",me=m(),ve=p("div"),we=p("h5"),ye=p("span"),ye.textContent="Plunge rate:",xe=m(),be=p("input"),$e=m(),_e=p("span"),_e.textContent="in/min",Ce=m(),ke=p("div"),Ee=p("h5"),Se=p("span"),Se.textContent="Plunge ramp:",Me=m(),Re=p("input"),He=m(),Oe=p("span"),Oe.textContent="in",Pe=m(),Te=p("div"),Ae=p("h5"),Be=p("span"),Be.textContent="Max depth/pass:",Ne=m(),We=p("input"),je=m(),Le=p("span"),Le.textContent="in",y(a,"data-lang",e[1]),y(a,"data-fr","Parametre"),y(s,"class","title"),y(f,"data-lang",e[1]),y(f,"data-fr","Unités: "),y(f,"class","svelte-4d87hh"),y(_,"type","checkbox"),y(_,"class","svelte-4d87hh"),y(S,"class","slider units svelte-4d87hh"),y(S,"data-lang",e[1]),y(b,"class","switch svelte-4d87hh"),y(d,"class","input-wrapper"),y(H,"data-lang",e[1]),y(H,"data-fr","Nest apartir de: "),y(H,"class","svelte-4d87hh"),y(A,"type","checkbox"),y(A,"class","svelte-4d87hh"),y(W,"class","slider direction svelte-4d87hh"),y(W,"data-lang",e[1]),y(T,"class","switch svelte-4d87hh"),y(R,"class","input-wrapper"),y(G,"data-lang",e[1]),y(G,"data-fr","Nest avec: "),y(G,"class","svelte-4d87hh"),y(U,"type","checkbox"),y(U,"class","svelte-4d87hh"),y(q,"class","slider type svelte-4d87hh"),y(q,"data-lang",e[1]),y(F,"class","switch svelte-4d87hh"),y(L,"class","input-wrapper"),y(K,"data-lang",e[1]),y(K,"data-fr","Nest par le: "),y(K,"class","svelte-4d87hh"),y(V,"data-lang",e[1]),y(V,"data-fr","plus large"),V.__value="widest",V.value=V.__value,y(nt,"data-lang",e[1]),y(nt,"data-fr","plus haut"),nt.__value="tallest",nt.value=nt.__value,y(at,"data-lang",e[1]),y(at,"data-fr","plus grand"),at.__value="biggest",at.value=at.__value,y(Q,"class","svelte-4d87hh"),void 0===e[0].nestOrder&&B((()=>e[5].call(Q))),y(X,"class","input-wrapper"),y(ct,"data-lang",e[1]),y(ct,"data-fr","Info sur les feuilles: "),y(ct,"class","svelte-4d87hh"),y(gt,"class","input svelte-4d87hh"),y(gt,"type","number"),y(gt,"step","0.0625"),y(dt,"data-lang",e[1]),y(dt,"data-fr","Largeur: "),y(dt,"class","svelte-4d87hh"),y(xt,"class","input svelte-4d87hh"),y(xt,"type","number"),y(xt,"step","0.0625"),y(vt,"data-lang",e[1]),y(vt,"data-fr","Hauteur: "),y(vt,"class","svelte-4d87hh"),y(kt,"class","input svelte-4d87hh"),y(kt,"type","number"),y(kt,"step","0.005"),y($t,"data-lang",e[1]),y($t,"data-fr","Épaisseur: "),y($t,"class","svelte-4d87hh"),y(ot,"class","input-wrapper"),y(Ot,"class","input svelte-4d87hh"),y(Ot,"type","number"),y(Ot,"step","0.05"),y(Mt,"data-lang",e[1]),y(Mt,"data-fr","Marge: "),y(Mt,"class","svelte-4d87hh"),y(St,"class","input-wrapper"),y(o,"class","general svelte-4d87hh"),y(Bt,"data-lang",e[1]),y(Bt,"data-fr","Outil pour la decoupe: "),y(Bt,"class","svelte-4d87hh"),y(Dt,"class","input svelte-4d87hh"),y(Dt,"type","number"),y(Dt,"step","1"),y(jt,"data-lang",e[1]),y(jt,"data-fr","Outil #: "),y(jt,"class","svelte-4d87hh"),y(At,"class","input-wrapper"),y(zt,"class","input svelte-4d87hh"),y(zt,"type","text"),y(Ut,"data-lang",e[1]),y(Ut,"data-fr","Type: "),y(Ut,"class","svelte-4d87hh"),y(Ft,"class","input-wrapper"),y(Vt,"class","input svelte-4d87hh"),y(Vt,"type","number"),y(Vt,"step","0.03125"),y(Jt,"data-lang",e[1]),y(Jt,"data-fr","Diametre: "),y(Jt,"class","svelte-4d87hh"),y(Kt,"class","input-wrapper"),y(ae,"class","input svelte-4d87hh"),y(ae,"type","number"),y(ae,"step","10"),y(ne,"data-lang",e[1]),y(ne,"data-fr","Diametre: "),y(ne,"class","svelte-4d87hh"),y(ee,"class","input-wrapper"),y(pe,"class","input svelte-4d87hh"),y(pe,"type","number"),y(pe,"step","10"),y(ue,"data-lang",e[1]),y(ue,"data-fr","vitesse de coupe: "),y(ue,"class","svelte-4d87hh"),y(ce,"class","input-wrapper"),y(be,"class","input svelte-4d87hh"),y(be,"type","number"),y(be,"step","10"),y(we,"data-lang",e[1]),y(we,"data-fr","vitesse de plonge: "),y(we,"class","svelte-4d87hh"),y(ve,"class","input-wrapper"),y(Re,"class","input svelte-4d87hh"),y(Re,"type","number"),y(Re,"step","10"),y(Ee,"data-lang",e[1]),y(Ee,"data-fr","Longeur de plonge: "),y(Ee,"class","svelte-4d87hh"),y(ke,"class","input-wrapper"),y(We,"class","input svelte-4d87hh"),y(We,"type","number"),y(We,"step","10"),y(Ae,"data-lang",e[1]),y(Ae,"data-fr","Max profondeur/passe: "),y(Ae,"class","svelte-4d87hh"),y(Te,"class","input-wrapper"),y(Tt,"class","cnc svelte-4d87hh"),y(n,"class","settings svelte-4d87hh"),k(n,"active",e[0].show)},m(t,i){u(t,n,i),c(n,s),c(s,a),c(a,l),c(n,r),c(n,o),c(o,d),c(d,f),c(f,g),c(d,v),c(d,b),c(b,_),_.checked=e[0].units,c(b,E),c(b,S),c(o,M),c(o,R),c(R,H),c(H,O),c(R,P),c(R,T),c(T,A),A.checked=e[0].nestDirectionBottom,c(T,N),c(T,W),c(o,j),c(o,L),c(L,G),c(G,D),c(L,I),c(L,F),c(F,U),U.checked=e[0].nestTypeColumn,c(F,Y),c(F,q),c(o,z),c(o,X),c(X,K),c(K,J),c(X,Z),c(X,Q),c(Q,V),c(V,tt),c(V,et),c(Q,nt),c(nt,it),c(nt,st),c(Q,at),c(at,lt),C(Q,e[0].nestOrder),c(o,rt),c(o,ot),c(ot,ct),c(ct,ut),c(ot,ht),c(ot,dt),c(dt,pt),c(dt,ft),c(dt,gt),$(gt,e[0].material.width),c(ot,mt),c(ot,vt),c(vt,wt),c(vt,yt),c(vt,xt),$(xt,e[0].material.height),c(ot,bt),c(ot,$t),c($t,_t),c($t,Ct),c($t,kt),$(kt,e[0].material.thickness),c(o,Et),c(o,St),c(St,Mt),c(Mt,Rt),c(Mt,Ht),c(Mt,Ot),$(Ot,e[0].material.margins),c(n,Pt),c(n,Tt),c(Tt,At),c(At,Bt),c(Bt,Nt),c(At,Wt),c(At,jt),c(jt,Lt),c(jt,Gt),c(jt,Dt),$(Dt,e[0].tool),c(Tt,It),c(Tt,Ft),c(Ft,Ut),c(Ut,Yt),c(Ut,qt),c(Ut,zt),$(zt,e[0].cnc[e[0].tool].type),c(Tt,Xt),c(Tt,Kt),c(Kt,Jt),c(Jt,Zt),c(Jt,Qt),c(Jt,Vt),$(Vt,e[0].cnc[e[0].tool].diameter),c(Tt,te),c(Tt,ee),c(ee,ne),c(ne,ie),c(ne,se),c(ne,ae),$(ae,e[0].cnc[e[0].tool].spindle),c(ne,le),c(ne,re),c(Tt,oe),c(Tt,ce),c(ce,ue),c(ue,he),c(ue,de),c(ue,pe),$(pe,e[0].cnc[e[0].tool].feed),c(ue,fe),c(ue,ge),c(Tt,me),c(Tt,ve),c(ve,we),c(we,ye),c(we,xe),c(we,be),$(be,e[0].cnc[e[0].tool].plunge),c(we,$e),c(we,_e),c(Tt,Ce),c(Tt,ke),c(ke,Ee),c(Ee,Se),c(Ee,Me),c(Ee,Re),$(Re,e[0].cnc[e[0].tool].ramp),c(Ee,He),c(Ee,Oe),c(Tt,Pe),c(Tt,Te),c(Te,Ae),c(Ae,Be),c(Ae,Ne),c(Ae,We),$(We,e[0].cnc[e[0].tool].max_depth),c(Ae,je),c(Ae,Le),Ge||(De=[w(_,"change",e[2]),w(A,"change",e[3]),w(U,"change",e[4]),w(Q,"change",e[5]),w(gt,"input",e[6]),w(xt,"input",e[7]),w(kt,"input",e[8]),w(Ot,"input",e[9]),w(Dt,"input",e[10]),w(zt,"input",e[11]),w(Vt,"input",e[12]),w(ae,"input",e[13]),w(pe,"input",e[14]),w(be,"input",e[15]),w(Re,"input",e[16]),w(We,"input",e[17])],Ge=!0)},p(t,[e]){1&e&&(_.checked=t[0].units),1&e&&(A.checked=t[0].nestDirectionBottom),1&e&&(U.checked=t[0].nestTypeColumn),1&e&&C(Q,t[0].nestOrder),1&e&&x(gt.value)!==t[0].material.width&&$(gt,t[0].material.width),1&e&&x(xt.value)!==t[0].material.height&&$(xt,t[0].material.height),1&e&&x(kt.value)!==t[0].material.thickness&&$(kt,t[0].material.thickness),1&e&&x(Ot.value)!==t[0].material.margins&&$(Ot,t[0].material.margins),1&e&&x(Dt.value)!==t[0].tool&&$(Dt,t[0].tool),1&e&&zt.value!==t[0].cnc[t[0].tool].type&&$(zt,t[0].cnc[t[0].tool].type),1&e&&x(Vt.value)!==t[0].cnc[t[0].tool].diameter&&$(Vt,t[0].cnc[t[0].tool].diameter),1&e&&x(ae.value)!==t[0].cnc[t[0].tool].spindle&&$(ae,t[0].cnc[t[0].tool].spindle),1&e&&x(pe.value)!==t[0].cnc[t[0].tool].feed&&$(pe,t[0].cnc[t[0].tool].feed),1&e&&x(be.value)!==t[0].cnc[t[0].tool].plunge&&$(be,t[0].cnc[t[0].tool].plunge),1&e&&x(Re.value)!==t[0].cnc[t[0].tool].ramp&&$(Re,t[0].cnc[t[0].tool].ramp),1&e&&x(We.value)!==t[0].cnc[t[0].tool].max_depth&&$(We,t[0].cnc[t[0].tool].max_depth),1&e&&k(n,"active",t[0].show)},i:t,o:t,d(t){t&&h(n),Ge=!1,i(De)}}}function re(t,e,n){let i;l(t,Mt,(t=>n(0,i=t)));let s=navigator.language||navigator.userLanguage;return[i,s,function(){i.units=this.checked,Mt.set(i)},function(){i.nestDirectionBottom=this.checked,Mt.set(i)},function(){i.nestTypeColumn=this.checked,Mt.set(i)},function(){i.nestOrder=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),Mt.set(i)},function(){i.material.width=x(this.value),Mt.set(i)},function(){i.material.height=x(this.value),Mt.set(i)},function(){i.material.thickness=x(this.value),Mt.set(i)},function(){i.material.margins=x(this.value),Mt.set(i)},function(){i.tool=x(this.value),Mt.set(i)},function(){i.cnc[i.tool].type=this.value,Mt.set(i)},function(){i.cnc[i.tool].diameter=x(this.value),Mt.set(i)},function(){i.cnc[i.tool].spindle=x(this.value),Mt.set(i)},function(){i.cnc[i.tool].feed=x(this.value),Mt.set(i)},function(){i.cnc[i.tool].plunge=x(this.value),Mt.set(i)},function(){i.cnc[i.tool].ramp=x(this.value),Mt.set(i)},function(){i.cnc[i.tool].max_depth=x(this.value),Mt.set(i)}]}class oe extends X{constructor(t){super(),z(this,t,re,le,a,{})}}function ce(e){let n,s,a,l,r,o,d,f,g,v,x,b,$,_;return l=new Dt({}),o=new Zt({}),f=new oe({}),x=new ae({}),{c(){n=m(),s=p("div"),a=p("div"),F(l.$$.fragment),r=m(),F(o.$$.fragment),d=m(),F(f.$$.fragment),g=m(),v=p("div"),F(x.$$.fragment),y(a,"class","import svelte-ubfav0"),y(v,"class","main"),y(s,"class","container svelte-ubfav0")},m(t,i){u(t,n,i),u(t,s,i),c(s,a),U(l,a,null),c(a,r),U(o,a,null),c(a,d),U(f,a,null),c(s,g),c(s,v),U(x,v,null),b=!0,$||(_=[w(document.body,"change",e[1]),w(v,"click",e[2])],$=!0)},p:t,i(t){b||(D(l.$$.fragment,t),D(o.$$.fragment,t),D(f.$$.fragment,t),D(x.$$.fragment,t),b=!0)},o(t){I(l.$$.fragment,t),I(o.$$.fragment,t),I(f.$$.fragment,t),I(x.$$.fragment,t),b=!1},d(t){t&&h(n),t&&h(s),Y(l),Y(o),Y(f),Y(x),$=!1,i(_)}}}function ue(t,e,n){let i,s,a,r;function c(){let t=et(i.contents,5,s.nestTypeColumn,s.nestOrder,s.nestDirectionBottom,s.cnc[s.tool].diameter,s.material);o(Rt,a=t[0]),o(Ht,r=t[1]),o(Ot,i.errors=t[2],i)}l(t,Ot,(t=>n(3,i=t))),l(t,Mt,(t=>n(0,s=t))),l(t,Rt,(t=>n(4,a=t))),l(t,Ht,(t=>n(5,r=t))),M((()=>{c()}));return[s,c,()=>o(Mt,s.show=!1,s)]}return new class extends X{constructor(t){super(),z(this,t,ue,ce,a,{})}}({target:document.body})}();
//# sourceMappingURL=app.js.map

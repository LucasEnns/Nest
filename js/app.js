var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function a(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function r(t){return null==t?"":t}function c(t,e,n=e){return t.set(n),e}function o(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function m(){return f(" ")}function v(){return f("")}function w(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?void 0:+t}function _(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}function b(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function k(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}}function C(t,e,n){t.classList[n?"add":"remove"](e)}let M;function P(t){M=t}function S(){if(!M)throw new Error("Function called outside component initialization");return M}function E(){const t=S();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const a=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);s.slice().forEach((e=>{e.call(t,a)}))}}}const H=[],R=[],N=[],O=[],j=Promise.resolve();let W=!1;function B(t){N.push(t)}let D=!1;const I=new Set;function A(){if(!D){D=!0;do{for(let t=0;t<H.length;t+=1){const e=H[t];P(e),G(e.$$)}for(H.length=0;R.length;)R.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];I.has(e)||(I.add(e),e())}N.length=0}while(H.length);for(;O.length;)O.pop()();W=!1,D=!1,I.clear()}}function G(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const T=new Set;function F(t,e){t&&t.i&&(T.delete(t),t.i(e))}function L(t,e,n,s){if(t&&t.o){if(T.has(t))return;T.add(t),undefined.c.push((()=>{T.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function U(t){t&&t.c()}function Y(t,n,l){const{fragment:i,on_mount:r,on_destroy:c,after_update:o}=t.$$;i&&i.m(n,l),B((()=>{const n=r.map(e).filter(a);c?c.push(...n):s(n),t.$$.on_mount=[]})),o.forEach(B)}function z(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(H.push(t),W||(W=!0,j.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,a,l,i,r,c,o=[-1]){const u=M;P(e);const d=a.props||{},p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:o,skip_bound:!1};let g=!1;if(p.ctx=l?l(e,d,((t,n,...s)=>{const a=s.length?s[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=a)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](a),g&&q(e,t)),n})):[],p.update(),g=!0,s(p.before_update),p.fragment=!!i&&i(p.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);p.fragment&&p.fragment.l(t),t.forEach(h)}else p.fragment&&p.fragment.c();a.intro&&F(e.$$.fragment),Y(e,a.target,a.anchor),A()}P(u)}class V{$destroy(){z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const X=[];function Z(e,n=t){let s;const a=[];function i(t){if(l(e,t)&&(e=t,s)){const t=!X.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),X.push(n,e)}if(t){for(let t=0;t<X.length;t+=2)X[t][0](X[t+1]);X.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(l,r=t){const c=[l,r];return a.push(c),1===a.length&&(s=n(i)||t),l(e),()=>{const t=a.indexOf(c);-1!==t&&a.splice(t,1),0===a.length&&(s(),s=null)}}}}const J={beta:"< update key to update settings",language:"fr"===(navigator.language.slice(0,2)||navigator.userLanguage.slice(0,2)).slice(0,2)?"fr":"en",material:{width:49,height:97,thickness:.75,margins:.3,cut_depth:.75,link:.02},nestTypeColumn:!1,nestOrder:"widest",nestDirectionBottom:!0,units:!1,tool:9,cnc:{1:{name:'3/16" End mill',type:"End mill",diameter:.1875,spindle:12e3,feed:150,plunge:100,ramp:1,max_depth:.875,pass_depth:.125,step_over:.125},2:{name:'3/4" End mill',type:"End mill",diameter:.75,spindle:15e3,feed:200,plunge:75,ramp:5,max_depth:3,pass_depth:.25,step_over:.625},3:{name:'1/8" Engraver/Drill',type:"Ballnose",diameter:.125,spindle:12e3,feed:50,plunge:50,ramp:1,max_depth:.75,pass_depth:.0625,step_over:.0625},4:{name:'3/4" Edge Finisher',type:"Edge Finisher",diameter:.75,spindle:2e4,feed:75,plunge:30,ramp:4,max_depth:2.25,pass_depth:2.25,step_over:.05},5:{name:"5mm Drill",type:"Drill",diameter:.19685,spindle:8500,feed:0,plunge:75,ramp:0,max_depth:1,pass_depth:1,step_over:0},6:{name:'1/4" Endmill',type:"Endmill",diameter:.25,spindle:18e3,feed:150,plunge:40,ramp:1,max_depth:1,pass_depth:.25,step_over:.2},7:{name:"8mm Drill",type:"Drill",diameter:.31496,spindle:8500,feed:0,plunge:75,ramp:0,max_depth:1,pass_depth:1,step_over:0},8:{name:"32mm Surfacing",type:"Surfacing",diameter:1.25985,spindle:12e3,feed:200,plunge:30,ramp:5,max_depth:1,pass_depth:.125,step_over:0},9:{name:'3/8" Endmill',type:"Endmill",diameter:.375,spindle:18e3,feed:400,plunge:70,ramp:1,max_depth:.875,pass_depth:.875,step_over:.3},10:{name:'1/2" Endmill',type:"Endmill",diameter:.5,spindle:18e3,feed:400,plunge:70,ramp:1,max_depth:.875,pass_depth:.875,step_over:.4},11:{name:"10mm Drill",type:"Drill",diameter:.3937,spindle:18e3,feed:0,plunge:75,ramp:0,max_depth:1,pass_depth:1,step_over:0},12:{name:'90deg 1.5" V-bit',type:"V-bit",diameter:1.5,spindle:12e3,feed:75,plunge:30,ramp:1,max_depth:.75,pass_depth:.25,step_over:.125}},show:!0,activePanel:""},Q={en:[["Project","New","Material","Plywood","Project Info","doors"],["Borders","Top","Right","Bottom","Left"],[0,0,0,0,0],["Metric?",!1],["Panel","Quantity","Width","Height"],[1,0,0,0]],fr:[["Projét","Nouveau","Matèriaux","Plaquage","Modèle Portes",""],["Borders","haut","droit","bas","gauche"],[0,0,0,0,0],["Metric?",!1],["Panneaux","Quantité","Largeur","Hauteur"],[1,0,0,0]]},tt={name:"",sheets:[],errors:[],csv:{new:[...Q[J.language]],contents:[...Q[J.language]],panels:[],headerRows:5,output:""},svg:"",cnc:""},et=((t,e)=>{const n=t=>JSON.stringify(t,null,2);localStorage.getItem(t)||localStorage.setItem(t,n(e));const s=JSON.parse(localStorage.getItem(t));var a,l;a=s,l=e,Object.keys(a).join()!==Object.keys(l).join()&&localStorage.setItem(t,n(e));const{subscribe:i,set:r,update:c}=Z(s);return{subscribe:i,set:e=>(localStorage.setItem(t,n(e)),r(e)),update:c}})("settings",J),nt=((t,e)=>{const n=t=>JSON.stringify(t,null,2);sessionStorage.getItem(t)||sessionStorage.setItem(t,n(e));const{subscribe:s,set:a,update:l}=Z(JSON.parse(sessionStorage.getItem(t)));return{subscribe:s,set:e=>(sessionStorage.setItem(t,n(e)),a(e)),update:l}})("data",tt);function st(t){return isNaN(t)?t.includes("/")&&!t.includes(".")?t.split(" ").filter((t=>""!==t)).reduce(((t,e)=>{if(e.includes("/")){let n=e.split("/").filter((t=>""!==t));return t+lt(n[0]/n[1])}return t+lt(e)}),0):t:lt(t)}function at(t,e){return Math.round(parseFloat(t)*10**e)/10**e}function lt(t){return at(t,5)}function it(t){return lt(25.4*t)}function rt(t){return lt(t/25.4)}function ct(t,e){const n=t=>("0"+t).slice(-2),s={mm:n(t.getMonth()+1),dd:n(t.getDate()),yy:t.getFullYear().toString().slice(-2),yyyy:t.getFullYear(),HH:n(t.getHours()),MM:n(t.getMinutes()),SS:n(t.getSeconds()),T:"T",h:"h"};return e.replace(/mm|dd|yyyy|yy|HH|MM|SS/gi,(t=>s[t]))}function ot(t,e,n){const s=t.slice();return s[24]=e[n],s[25]=e,s[26]=n,s}function ut(e){let n,s,a,l,i;return{c(){n=p("div"),s=m(),a=p("div"),l=m(),i=p("div"),x(n,"class","file-icon dl-csv-block blocked svelte-1ehgcf6"),x(a,"class","file-icon dl-svg-block blocked svelte-1ehgcf6"),x(i,"class","file-icon dl-cnc-block blocked svelte-1ehgcf6")},m(t,e){u(t,n,e),u(t,s,e),u(t,a,e),u(t,l,e),u(t,i,e)},p:t,d(t){t&&h(n),t&&h(s),t&&h(a),t&&h(l),t&&h(i)}}}function ht(t){let e,n,s,a,l,i,r,c,d,g,f,v,w,y,_,$,b;return{c(){e=p("a"),n=p("span"),n.textContent="download .csv file (alt + v)",i=m(),r=p("a"),c=p("span"),c.textContent="download .svg file (alt + g)",v=m(),w=p("a"),y=p("span"),y.textContent="download .cnc file (alt + c)",x(n,"class","svelte-1ehgcf6"),x(e,"href",s="data:text/plain;charset=utf-8,"+encodeURIComponent(t[7].csv.output)),x(e,"download",a=t[7].name+t[8]()+".csv"),x(e,"role","button"),x(e,"data-lang",l=t[6].language),x(e,"data-fr","téléchargez le fichier .csv  (alt + v)"),x(e,"class","file-icon dl-csv svelte-1ehgcf6"),x(c,"class","svelte-1ehgcf6"),x(r,"href",d="data:text/plain;charset=utf-8,"+encodeURIComponent(t[7].svg)),x(r,"download",g=t[7].name+t[8]()+".svg"),x(r,"alt","download svg file"),x(r,"role","button"),x(r,"data-lang",f=t[6].language),x(r,"data-fr","telechargez le fichier .svg (alt + g)"),x(r,"class","file-icon dl-svg svelte-1ehgcf6"),x(y,"class","svelte-1ehgcf6"),x(w,"href",_="data:text/plain;charset=utf-8,"+encodeURIComponent(t[7].cnc)),x(w,"download",$=t[7].name+t[8]()+".cnc"),x(w,"role","button"),x(w,"data-lang",b=t[6].language),x(w,"data-fr","telechargez le fichier .cnc (alt + c)"),x(w,"class","file-icon dl-cnc svelte-1ehgcf6")},m(s,a){u(s,e,a),o(e,n),t[15](e),u(s,i,a),u(s,r,a),o(r,c),t[16](r),u(s,v,a),u(s,w,a),o(w,y),t[17](w)},p(t,n){128&n&&s!==(s="data:text/plain;charset=utf-8,"+encodeURIComponent(t[7].csv.output))&&x(e,"href",s),128&n&&a!==(a=t[7].name+t[8]()+".csv")&&x(e,"download",a),64&n&&l!==(l=t[6].language)&&x(e,"data-lang",l),128&n&&d!==(d="data:text/plain;charset=utf-8,"+encodeURIComponent(t[7].svg))&&x(r,"href",d),128&n&&g!==(g=t[7].name+t[8]()+".svg")&&x(r,"download",g),64&n&&f!==(f=t[6].language)&&x(r,"data-lang",f),128&n&&_!==(_="data:text/plain;charset=utf-8,"+encodeURIComponent(t[7].cnc))&&x(w,"href",_),128&n&&$!==($=t[7].name+t[8]()+".cnc")&&x(w,"download",$),64&n&&b!==(b=t[6].language)&&x(w,"data-lang",b)},d(n){n&&h(e),t[15](null),n&&h(i),n&&h(r),t[16](null),n&&h(v),n&&h(w),t[17](null)}}}function dt(t){let e,n,s,a,l,i,r,c,d,g=t[7].csv.contents[0][t[24]]+"",v=t[26];function y(){t[19].call(i,t[24])}const b=()=>t[20](i,v),k=()=>t[20](null,v);return{c(){e=p("h6"),n=p("span"),s=f(g),a=f(":"),l=m(),i=p("input"),r=m(),x(i,"type","text"),x(i,"class","svelte-1ehgcf6"),x(e,"class","print svelte-1ehgcf6")},m(h,p){u(h,e,p),o(e,n),o(n,s),o(n,a),o(e,l),o(e,i),$(i,t[7].csv.contents[0][t[24]+1]),b(),o(e,r),c||(d=w(i,"input",y),c=!0)},p(e,n){t=e,128&n&&g!==(g=t[7].csv.contents[0][t[24]]+"")&&_(s,g),128&n&&i.value!==t[7].csv.contents[0][t[24]+1]&&$(i,t[7].csv.contents[0][t[24]+1]),v!==t[26]&&(k(),v=t[26],b())},d(t){t&&h(e),k(),c=!1,d()}}}function pt(t){let e,n=t[7].csv.contents[0][t[24]]&&dt(t);return{c(){n&&n.c(),e=v()},m(t,s){n&&n.m(t,s),u(t,e,s)},p(t,s){t[7].csv.contents[0][t[24]]?n?n.p(t,s):(n=dt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&h(e)}}}function gt(e){let n,a,l,i,r,c,g,f,v,y,_,$,b,k,M,P,S,E,H,R,N,O;function j(t,e){return t[7].sheets.length?ht:ut}document.title=n="Ahhh Nest: "+e[7].csv.contents[0][1]||"Ahhh! Nest";let W=j(e),B=W(e),D=[0,2,4],I=[];for(let t=0;t<3;t+=1)I[t]=pt(ot(e,D,t));return{c(){a=m(),l=p("div"),i=p("input"),r=m(),c=p("label"),g=p("span"),g.textContent="open .csv file (alt + o)",y=m(),_=p("div"),$=p("span"),$.textContent="new file (alt + n)",k=m(),B.c(),M=m(),P=p("div"),S=p("span"),S.textContent="cnc + project settings (alt + p)",H=m(),R=p("div");for(let t=0;t<3;t+=1)I[t].c();x(i,"class","inputfile svelte-1ehgcf6"),x(i,"name","file"),x(i,"id","file"),x(i,"type","file"),x(g,"class","svelte-1ehgcf6"),x(c,"for","file"),x(c,"data-lang",f=e[6].language),x(c,"data-fr","ouvrir fichier .csv (alt + o)"),x(c,"class",v="file-icon "+(e[0]?"badfile":"upload")+" svelte-1ehgcf6"),x($,"class","svelte-1ehgcf6"),x(_,"tabindex","0"),x(_,"role","button"),x(_,"data-lang",b=e[6].language),x(_,"data-fr","nouveau fichier (alt + n)"),x(_,"class","file-icon new svelte-1ehgcf6"),x(S,"class","svelte-1ehgcf6"),x(P,"tabindex","0"),x(P,"role","button"),x(P,"data-lang",E=e[6].language),x(P,"data-fr","cnc + projet parametre  (alt + p)"),x(P,"class","file-icon setting-icon svelte-1ehgcf6"),C(P,"active",e[6].show),x(l,"class","file-mgmt svelte-1ehgcf6"),x(R,"class","project")},m(t,n){u(t,a,n),u(t,l,n),o(l,i),e[13](i),o(l,r),o(l,c),o(c,g),o(l,y),o(l,_),o(_,$),o(l,k),B.m(l,null),o(l,M),o(l,P),o(P,S),u(t,H,n),u(t,R,n);for(let t=0;t<3;t+=1)I[t].m(R,null);N||(O=[w(window,"keydown",e[9]),w(window,"keyup",e[10]),w(i,"change",e[12]),w(c,"mouseover",e[14]),w(_,"click",e[11]),w(P,"click",e[18])],N=!0)},p(t,[e]){if(128&e&&n!==(n="Ahhh Nest: "+t[7].csv.contents[0][1]||"Ahhh! Nest")&&(document.title=n),64&e&&f!==(f=t[6].language)&&x(c,"data-lang",f),1&e&&v!==(v="file-icon "+(t[0]?"badfile":"upload")+" svelte-1ehgcf6")&&x(c,"class",v),64&e&&b!==(b=t[6].language)&&x(_,"data-lang",b),W===(W=j(t))&&B?B.p(t,e):(B.d(1),B=W(t),B&&(B.c(),B.m(l,M))),64&e&&E!==(E=t[6].language)&&x(P,"data-lang",E),64&e&&C(P,"active",t[6].show),144&e){let n;for(D=[0,2,4],n=0;n<3;n+=1){const s=ot(t,D,n);I[n]?I[n].p(s,e):(I[n]=pt(s),I[n].c(),I[n].m(R,null))}for(;n<3;n+=1)I[n].d(1)}},i:t,o:t,d(t){t&&h(a),t&&h(l),e[13](null),B.d(),t&&h(H),t&&h(R),d(I,t),N=!1,s(O)}}}function ft(t,e,n){let s,a;i(t,et,(t=>n(6,s=t))),i(t,nt,(t=>n(7,a=t)));const l=E();let r,o,u,h,d=!1,p={},g=[];function f(){c(et,s.units=a.csv.contents[3][1],s),l("update")}function m(){c(nt,a.csv.contents=[...a.csv.new],a),f(),g[0].focus()}return[d,r,o,u,g,h,s,a,()=>ct(new Date,"-HHhMM"),function(t){p[t.code]=!0;const e=t=>(p.AltLeft||p.AltRight)&&p[t];e("KeyO")&&setTimeout((()=>file.click()),140),e("KeyN")&&m(),e("KeyV")&&r.click(),e("KeyG")&&o.click(),e("KeyC")&&u.click(),e("KeyP")&&c(et,s.show=!s.show,s)},function(t){delete p[t.code]},m,function(){if(h.files[0]){if(h.files[0].name.includes(".csv")){let t=new FileReader;t.readAsText(h.files[0]),t.onload=function(t){c(nt,a.csv.contents=function(t,e=1,n=","){for(var s=new RegExp("(\\"+n+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+n+"\\r\\n]*))","gi"),a=[[]],l=null;l=s.exec(t);){var i=l[1];if(i.length&&i!=n&&a.push([]),l[2])var r=l[2].replace(new RegExp('""',"g"),'"');else r=l[3];/\d/.test(r)&&(r=st(r)),a[a.length-1].push(r)}return a.filter(((t,n)=>n<e||t.filter((t=>""!==t)).length))}(t.target.result,a.csv.headerRows),a),n(0,d=!1),f()}}n(0,d=!0)}},function(t){R[t?"unshift":"push"]((()=>{h=t,n(5,h)}))},()=>n(0,d=!1),function(t){R[t?"unshift":"push"]((()=>{r=t,n(1,r)}))},function(t){R[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(t){R[t?"unshift":"push"]((()=>{u=t,n(3,u)}))},()=>c(et,s.show=!s.show,s),function(t){a.csv.contents[0][t+1]=this.value,nt.set(a)},function(t,e){R[t?"unshift":"push"]((()=>{g[e]=t,n(4,g)}))}]}class mt extends V{constructor(t){super(),K(this,t,ft,gt,l,{})}}function vt(t,e,n){const s=t.slice();return s[21]=e[n],s[22]=e,s[23]=n,s}function wt(t,e,n){const s=t.slice();return s[24]=e[n],s}function xt(t){let e,n,s,a,l,i,r=t[1].errors.length>1?"S":"",c=t[1].errors,g=[];for(let e=0;e<c.length;e+=1)g[e]=yt(wt(t,c,e));return{c(){e=p("h5"),n=f("ERROR"),s=f(r),a=f(":"),l=m();for(let t=0;t<g.length;t+=1)g[t].c();i=v()},m(t,r){u(t,e,r),o(e,n),o(e,s),o(e,a),u(t,l,r);for(let e=0;e<g.length;e+=1)g[e].m(t,r);u(t,i,r)},p(t,e){if(2&e&&r!==(r=t[1].errors.length>1?"S":"")&&_(s,r),2&e){let n;for(c=t[1].errors,n=0;n<c.length;n+=1){const s=wt(t,c,n);g[n]?g[n].p(s,e):(g[n]=yt(s),g[n].c(),g[n].m(i.parentNode,i))}for(;n<g.length;n+=1)g[n].d(1);g.length=c.length}},d(t){t&&h(e),t&&h(l),d(g,t),t&&h(i)}}}function yt(t){let e,n,s=t[24]+"";return{c(){e=p("p"),n=f(s)},m(t,s){u(t,e,s),o(e,n)},p(t,e){2&e&&s!==(s=t[24]+"")&&_(n,s)},d(t){t&&h(e)}}}function _t(t){let e,n,a,l,i,c,d,g,f,v,_,b,k,C,M,P,S,E,H;function R(){t[13].call(a,t[22],t[23])}function N(){t[14].call(c,t[22],t[23])}function O(){t[15].call(f,t[22],t[23])}function j(){t[16].call(C,t[22],t[23])}function W(...e){return t[17](t[21],...e)}return{c(){e=p("ul"),n=p("li"),a=p("input"),l=m(),i=p("li"),c=p("input"),d=m(),g=p("li"),f=p("input"),b=m(),k=p("li"),C=p("input"),x(a,"type","text"),x(a,"class","svelte-169ssei"),x(n,"class","svelte-169ssei"),x(c,"type","number"),x(c,"min","0"),x(c,"max","100"),x(c,"class","svelte-169ssei"),x(i,"class","svelte-169ssei"),x(f,"type","number"),x(f,"min","0"),x(f,"max",v=t[2]("width")),x(f,"step",_=t[0]?.25:.03125),x(f,"class","svelte-169ssei"),x(g,"class","svelte-169ssei"),x(C,"type","number"),x(C,"min","0"),x(C,"max",M=t[2]("height")),x(C,"step",P=t[0]?.25:.03125),x(C,"class","svelte-169ssei"),x(k,"class","svelte-169ssei"),x(e,"class",S=r(t[3].activePanel==t[21][0]?"active":"")+" svelte-169ssei")},m(s,r){u(s,e,r),o(e,n),o(n,a),$(a,t[21][0]),o(e,l),o(e,i),o(i,c),$(c,t[21][1]),o(e,d),o(e,g),o(g,f),$(f,t[21][2]),o(e,b),o(e,k),o(k,C),$(C,t[21][3]),E||(H=[w(a,"input",R),w(a,"focus",bt),w(c,"input",N),w(c,"focus",bt),w(f,"input",O),w(f,"focus",bt),w(C,"input",j),w(C,"focus",bt),w(e,"mouseenter",W),w(e,"mouseleave",t[18])],E=!0)},p(n,s){t=n,2&s&&a.value!==t[21][0]&&$(a,t[21][0]),2&s&&y(c.value)!==t[21][1]&&$(c,t[21][1]),4&s&&v!==(v=t[2]("width"))&&x(f,"max",v),1&s&&_!==(_=t[0]?.25:.03125)&&x(f,"step",_),2&s&&y(f.value)!==t[21][2]&&$(f,t[21][2]),4&s&&M!==(M=t[2]("height"))&&x(C,"max",M),1&s&&P!==(P=t[0]?.25:.03125)&&x(C,"step",P),2&s&&y(C.value)!==t[21][3]&&$(C,t[21][3]),10&s&&S!==(S=r(t[3].activePanel==t[21][0]?"active":"")+" svelte-169ssei")&&x(e,"class",S)},d(t){t&&h(e),E=!1,s(H)}}}function $t(e){let n,a,l,i,r,c,g,v,y,$,b,k,C,M,P,S,E,H,R,N,O,j,W,B,D,I,A,G,T,F,L,U,Y,z,q=e[1].csv.contents[4][0]+"",K=e[1].csv.contents[4][1]+"",V=e[1].csv.contents[4][2]+"",X=e[1].csv.contents[4][3]+"",Z=e[1].errors.length&&xt(e),J=e[1].csv.panels,Q=[];for(let t=0;t<J.length;t+=1)Q[t]=_t(vt(e,J,t));return{c(){n=p("div"),a=p("h6"),l=p("span"),l.textContent="Units:",i=m(),r=p("label"),c=p("input"),g=m(),v=p("div"),b=m(),k=p("div"),Z&&Z.c(),C=m(),M=p("ul"),P=p("li"),S=p("span"),E=f(q),H=m(),R=p("li"),N=p("span"),O=f(K),j=m(),W=p("li"),B=p("span"),D=f(V),I=m(),A=p("li"),G=p("span"),T=f(X),F=m();for(let t=0;t<Q.length;t+=1)Q[t].c();L=m(),U=p("ul"),U.textContent="+",x(c,"type","checkbox"),x(c,"class","svelte-169ssei"),x(v,"class","slider units svelte-169ssei"),x(v,"data-lang",y=e[3].language),x(r,"class","switch svelte-169ssei"),x(a,"data-lang",$=e[3].language),x(a,"data-fr","Unités: "),x(a,"class","svelte-169ssei"),x(S,"class","svelte-169ssei"),x(P,"class","svelte-169ssei"),x(N,"class","svelte-169ssei"),x(R,"class","svelte-169ssei"),x(B,"class","svelte-169ssei"),x(W,"class","svelte-169ssei"),x(G,"class","svelte-169ssei"),x(A,"class","svelte-169ssei"),x(M,"class","header svelte-169ssei"),x(U,"class","new-row svelte-169ssei"),x(U,"role","button"),x(k,"class","svelte-169ssei"),x(n,"class","wrapper svelte-169ssei")},m(t,s){u(t,n,s),o(n,a),o(a,l),o(a,i),o(a,r),o(r,c),c.checked=e[3].units,o(r,g),o(r,v),o(n,b),o(n,k),Z&&Z.m(k,null),o(k,C),o(k,M),o(M,P),o(P,S),o(S,E),o(M,H),o(M,R),o(R,N),o(N,O),o(M,j),o(M,W),o(W,B),o(B,D),o(M,I),o(M,A),o(A,G),o(G,T),o(k,F);for(let t=0;t<Q.length;t+=1)Q[t].m(k,null);o(k,L),o(k,U),Y||(z=[w(c,"change",e[7]),w(c,"change",e[8]),w(P,"click",e[9]),w(R,"click",e[10]),w(W,"click",e[11]),w(A,"click",e[12]),w(U,"click",e[4])],Y=!0)},p(t,[e]){if(8&e&&(c.checked=t[3].units),8&e&&y!==(y=t[3].language)&&x(v,"data-lang",y),8&e&&$!==($=t[3].language)&&x(a,"data-lang",$),t[1].errors.length?Z?Z.p(t,e):(Z=xt(t),Z.c(),Z.m(k,C)):Z&&(Z.d(1),Z=null),2&e&&q!==(q=t[1].csv.contents[4][0]+"")&&_(E,q),2&e&&K!==(K=t[1].csv.contents[4][1]+"")&&_(O,K),2&e&&V!==(V=t[1].csv.contents[4][2]+"")&&_(D,V),2&e&&X!==(X=t[1].csv.contents[4][3]+"")&&_(T,X),15&e){let n;for(J=t[1].csv.panels,n=0;n<J.length;n+=1){const s=vt(t,J,n);Q[n]?Q[n].p(s,e):(Q[n]=_t(s),Q[n].c(),Q[n].m(k,L))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=J.length}},i:t,o:t,d(t){t&&h(n),Z&&Z.d(),d(Q,t),Y=!1,s(z)}}}function bt(){this.select()}function kt(t,e,n){let s,a;i(t,nt,(t=>n(1,s=t))),i(t,et,(t=>n(3,a=t)));const l=E();function r(t){c(nt,s.csv.panels=s.csv.panels.sort(((e,n)=>e[t]-n[t])),s)}function o(t){c(nt,s.csv.panels=s.csv.panels.sort(((e,n)=>n[t]-e[t])),s)}let u,h;return t.$$.update=()=>{2&t.$$.dirty&&n(0,u=s.csv.contents[3][1]),t.$$.dirty,9&t.$$.dirty&&n(2,h=t=>{let e=a.material[t]-2*a.material.margins;return u?it(e):e})},[u,s,h,a,function(){let t=[s.csv.panels.length+1,0,0,0];c(nt,s.csv.contents=[...s.csv.contents,t],s),l("update")},r,o,function(){let t=u?rt:it;s.csv.panels.forEach((e=>{e[2]=t(e[2]),e[3]=t(e[3])})),c(nt,s.csv.contents[3][1]=c(et,a.units=!u,a),s)},function(){a.units=this.checked,et.set(a)},()=>r(0),()=>o(1),()=>o(2),()=>o(3),function(t,e){t[e][0]=this.value},function(t,e){t[e][1]=y(this.value)},function(t,e){t[e][2]=y(this.value)},function(t,e){t[e][3]=y(this.value)},t=>c(et,a.activePanel=t[0],a),()=>c(et,a.activePanel="",a)]}class Ct extends V{constructor(t){super(),K(this,t,kt,$t,l,{})}}function Mt(t,e,n){const s=t.slice();return s[18]=e[n],s}function Pt(t,e,n){const s=t.slice();return s[15]=e[n],s[17]=n,s}function St(t){let e,n,s,a,l,i,r,c,d,g,v,w,y,$,k,C,M,P,S,E,H=t[5].sheets[t[0]].id+"",R=at(t[5].sheets[t[0]].area/144,2)+"",N=at(t[5].sheets[t[0]].waste_area/144,2)+"",O=at(100*t[5].sheets[t[0]].waste_ratio,2)+"";return{c(){e=p("div"),n=p("h4"),s=f(H),a=m(),l=p("p"),i=f("area des panneaux: "),r=f(R),c=f(" pi"),d=p("sup"),d.textContent="2",g=m(),v=p("p"),w=f("area de perte: "),y=f(N),$=f(" pi"),k=p("sup"),k.textContent="2",C=m(),M=p("p"),P=f("% de perte: "),S=f(O),E=f("%"),x(d,"class","svelte-1nnwdec"),x(k,"class","svelte-1nnwdec"),x(e,"class","infocard svelte-1nnwdec"),b(e,"left",t[3]+"px"),b(e,"top",t[2]+"px")},m(t,h){u(t,e,h),o(e,n),o(n,s),o(e,a),o(e,l),o(l,i),o(l,r),o(l,c),o(l,d),o(e,g),o(e,v),o(v,w),o(v,y),o(v,$),o(v,k),o(e,C),o(e,M),o(M,P),o(M,S),o(M,E)},p(t,n){33&n&&H!==(H=t[5].sheets[t[0]].id+"")&&_(s,H),33&n&&R!==(R=at(t[5].sheets[t[0]].area/144,2)+"")&&_(r,R),33&n&&N!==(N=at(t[5].sheets[t[0]].waste_area/144,2)+"")&&_(y,N),33&n&&O!==(O=at(100*t[5].sheets[t[0]].waste_ratio,2)+"")&&_(S,O),8&n&&b(e,"left",t[3]+"px"),4&n&&b(e,"top",t[2]+"px")},d(t){t&&h(e)}}}function Et(t){let e,n,a,l,i,r,c,d,p,m,v,y,$,k,C=t[18].id+"";return{c(){e=g("rect"),d=g("text"),p=f(C),b(e,"stroke-width",t[6].cnc[t[6].tool].diameter*t[7]+"px"),x(e,"class",n="panel "+(t[6].activePanel==t[18].id?"active":"")+" print svelte-1nnwdec"),x(e,"id",a=t[18].id),x(e,"x",l=(t[18].x+t[13](t[17]).x)*t[7]),x(e,"y",i=(t[12](t[18].y,t[18].height)+t[13](t[17]).y)*t[7]),x(e,"width",r=t[18].width*t[7]),x(e,"height",c=t[18].height*t[7]),b(d,"font-size",t[7]*(t[18].id.length>6?Math.min(.4*t[18].height,2.5):Math.min(.8*t[18].height,5))+"px"),x(d,"class",m="id "+(t[6].activePanel==t[18].id?"active":"")+" print svelte-1nnwdec"),x(d,"x",v=(t[18].x+t[13](t[17]).x+t[18].width/2)*t[7]),x(d,"y",y=(t[12](t[18].y,t[18].height)+t[13](t[17]).y+Math.min(.8*t[18].height,5)/3+t[18].height/2)*t[7])},m(n,s){u(n,e,s),u(n,d,s),o(d,p),$||(k=[w(e,"mouseover",t[8]),w(e,"mouseleave",t[9])],$=!0)},p(t,s){64&s&&b(e,"stroke-width",t[6].cnc[t[6].tool].diameter*t[7]+"px"),96&s&&n!==(n="panel "+(t[6].activePanel==t[18].id?"active":"")+" print svelte-1nnwdec")&&x(e,"class",n),32&s&&a!==(a=t[18].id)&&x(e,"id",a),32&s&&l!==(l=(t[18].x+t[13](t[17]).x)*t[7])&&x(e,"x",l),32&s&&i!==(i=(t[12](t[18].y,t[18].height)+t[13](t[17]).y)*t[7])&&x(e,"y",i),32&s&&r!==(r=t[18].width*t[7])&&x(e,"width",r),32&s&&c!==(c=t[18].height*t[7])&&x(e,"height",c),32&s&&C!==(C=t[18].id+"")&&_(p,C),32&s&&b(d,"font-size",t[7]*(t[18].id.length>6?Math.min(.4*t[18].height,2.5):Math.min(.8*t[18].height,5))+"px"),96&s&&m!==(m="id "+(t[6].activePanel==t[18].id?"active":"")+" print svelte-1nnwdec")&&x(d,"class",m),32&s&&v!==(v=(t[18].x+t[13](t[17]).x+t[18].width/2)*t[7])&&x(d,"x",v),32&s&&y!==(y=(t[12](t[18].y,t[18].height)+t[13](t[17]).y+Math.min(.8*t[18].height,5)/3+t[18].height/2)*t[7])&&x(d,"y",y)},d(t){t&&h(e),t&&h(d),$=!1,s(k)}}}function Ht(t){let e,n,a,l,i,r,c,p,f,m,v=t[15].group,y=[];for(let e=0;e<v.length;e+=1)y[e]=Et(Mt(t,v,e));return{c(){e=g("g"),n=g("rect"),p=g("g");for(let t=0;t<y.length;t+=1)y[t].c();b(n,"stroke-width",t[6].material.margins*t[7]+"px"),x(n,"class","sheet print svelte-1nnwdec"),x(n,"id",a=t[17]),x(n,"x",l=(t[13](t[17]).x+t[6].material.margins/2)*t[7]),x(n,"y",i=(t[13](t[17]).y+t[6].material.margins/2)*t[7]),x(n,"width",r=(t[15].sheet_width-t[6].material.margins)*t[7]),x(n,"height",c=(t[15].sheet_height-t[6].material.margins)*t[7]),x(e,"id","sheets"),x(p,"id","panels")},m(s,a){u(s,e,a),o(e,n),u(s,p,a);for(let t=0;t<y.length;t+=1)y[t].m(p,null);f||(m=[w(n,"mouseover",t[10]),w(n,"mouseleave",t[11])],f=!0)},p(t,e){if(64&e&&b(n,"stroke-width",t[6].material.margins*t[7]+"px"),64&e&&l!==(l=(t[13](t[17]).x+t[6].material.margins/2)*t[7])&&x(n,"x",l),64&e&&i!==(i=(t[13](t[17]).y+t[6].material.margins/2)*t[7])&&x(n,"y",i),96&e&&r!==(r=(t[15].sheet_width-t[6].material.margins)*t[7])&&x(n,"width",r),96&e&&c!==(c=(t[15].sheet_height-t[6].material.margins)*t[7])&&x(n,"height",c),13280&e){let n;for(v=t[15].group,n=0;n<v.length;n+=1){const s=Mt(t,v,n);y[n]?y[n].p(s,e):(y[n]=Et(s),y[n].c(),y[n].m(p,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=v.length}},d(t){t&&h(e),t&&h(p),d(y,t),f=!1,s(m)}}}function Rt(e){let n,s,a,l,i,r,c,v=e[1]&&St(e),w=e[5].sheets,y=[];for(let t=0;t<w.length;t+=1)y[t]=Ht(Pt(e,w,t));return{c(){v&&v.c(),n=m(),s=p("div"),a=g("svg");for(let t=0;t<y.length;t+=1)y[t].c();l=f(">"),x(a,"class","print svelte-1nnwdec"),x(a,"version","1.1"),x(a,"xmlns","http://www.w3.org/2000/svg"),x(a,"xmlns:xlink","http://www.w3.org/1999/xlink"),x(a,"width",i=e[13](e[5].sheets.length-1).w*e[7]||0),x(a,"height",r=e[13](e[5].sheets.length-1).h*e[7]||0),x(a,"viewBox",c="0 0 "+(e[13](e[5].sheets.length-1).w*e[7]||0)+" "+(e[13](e[5].sheets.length-1).h*e[7]||0)),x(a,"preserveAspectRatio","xMidYMid meet"),x(s,"class","viewer svelte-1nnwdec")},m(t,i){v&&v.m(t,i),u(t,n,i),u(t,s,i),o(s,a);for(let t=0;t<y.length;t+=1)y[t].m(a,null);o(a,l),e[14](s)},p(t,[e]){if(t[1]?v?v.p(t,e):(v=St(t),v.c(),v.m(n.parentNode,n)):v&&(v.d(1),v=null),16352&e){let n;for(w=t[5].sheets,n=0;n<w.length;n+=1){const s=Pt(t,w,n);y[n]?y[n].p(s,e):(y[n]=Ht(s),y[n].c(),y[n].m(a,l))}for(;n<y.length;n+=1)y[n].d(1);y.length=w.length}32&e&&i!==(i=t[13](t[5].sheets.length-1).w*t[7]||0)&&x(a,"width",i),32&e&&r!==(r=t[13](t[5].sheets.length-1).h*t[7]||0)&&x(a,"height",r),32&e&&c!==(c="0 0 "+(t[13](t[5].sheets.length-1).w*t[7]||0)+" "+(t[13](t[5].sheets.length-1).h*t[7]||0))&&x(a,"viewBox",c)},i:t,o:t,d(t){v&&v.d(t),t&&h(n),t&&h(s),d(y,t),e[14](null)}}}function Nt(t,e,n){let s,a;i(t,nt,(t=>n(5,s=t))),i(t,et,(t=>n(6,a=t)));let l,r,o=!1,u=0,h=0;var d;return d=()=>{c(nt,s.svg=r.innerHTML.toString(),s)},S().$$.after_update.push(d),[l,o,u,h,r,s,a,90,function(){c(et,a.activePanel=this.id,a)},function(){c(et,a.activePanel="",a)},function(){n(1,o=!0);let t=this.getBoundingClientRect();n(2,u=(t.bottom-t.top)/2+t.top),n(3,h=(t.right-t.left)/2+t.left),n(0,l=this.id)},function(){n(1,o=!1)},function(t,e){return a.material.height-e-t},function(t){let e=Math.ceil(s.sheets.length/5),n=Math.ceil(s.sheets.length/e),l=Math.ceil((t+1)/n)-1;return{x:t%n*a.material.width,y:l*a.material.height,w:n*a.material.width,h:e*a.material.height}},function(t){R[t?"unshift":"push"]((()=>{r=t,n(4,r)}))}]}class Ot extends V{constructor(t){super(),K(this,t,Nt,Rt,l,{})}}function jt(e){let n,a,l,i,r,c,d,g,v,_,b,M,P,S,E,H,R,N,O,j,W,D,I,A,G,T,F,L,U,Y,z,q,K,V,X,Z,J,Q,tt,et,nt,st,at,lt,it,rt,ct,ot,ut,ht,dt,pt,gt,ft,mt,vt,wt,xt,yt,_t,$t,bt,kt,Ct,Mt,Pt,St,Et,Ht,Rt,Nt,Ot,jt,Bt,Dt,It,At,Gt,Tt,Ft,Lt,Ut,Yt,zt,qt,Kt,Vt,Xt,Zt,Jt,Qt,te,ee,ne,se,ae,le,ie,re,ce,oe,ue,he,de,pe,ge,fe,me,ve,we,xe,ye,_e,$e,be,ke,Ce,Me,Pe,Se,Ee,He,Re,Ne,Oe,je,We,Be,De,Ie,Ae,Ge,Te,Fe,Le,Ue,Ye,ze,qe,Ke,Ve,Xe,Ze,Je,Qe,tn,en,nn,sn,an,ln,rn,cn;return{c(){n=p("div"),a=p("div"),a.textContent="X",l=m(),i=p("div"),r=p("h2"),c=p("span"),c.textContent="Settings",g=m(),v=p("div"),_=p("div"),b=p("h3"),M=p("span"),M.textContent="Nest from",S=m(),E=p("label"),H=p("input"),R=m(),N=p("div"),j=m(),W=p("div"),D=p("h3"),I=p("span"),I.textContent="Nest with",G=m(),T=p("label"),F=p("input"),L=m(),U=p("div"),z=m(),q=p("div"),K=p("h3"),V=p("span"),V.textContent="Nest by",Z=m(),J=p("select"),Q=p("option"),tt=p("span"),tt.textContent=""+(e[1]?"plus large":"widest"),et=p("option"),nt=p("span"),nt.textContent=""+(e[1]?"plus haut":"tallest"),st=p("option"),at=p("span"),at.textContent=""+(e[1]?"plus grand":"biggest"),lt=f("\n        \\"),it=m(),rt=p("div"),ct=p("h3"),ot=p("span"),ot.textContent="Sheet info",ht=m(),dt=p("h5"),pt=p("input"),gt=m(),ft=p("span"),ft.textContent="in :Width",vt=m(),wt=p("h5"),xt=p("input"),yt=m(),_t=p("span"),_t.textContent="in :Height",bt=m(),kt=p("h5"),Ct=p("input"),Mt=m(),Pt=p("span"),Pt.textContent="in :Thickness",Et=m(),Ht=p("div"),Rt=p("h5"),Nt=p("input"),jt=m(),Bt=p("span"),Bt.textContent="in :Cut depth",It=m(),At=p("div"),Gt=p("h5"),Tt=p("input"),Ft=m(),Lt=p("span"),Lt.textContent="in :Margins",Yt=m(),zt=p("div"),qt=p("div"),Kt=p("h3"),Vt=p("span"),Vt.textContent="Profile cutting tool",Zt=m(),Jt=p("h5"),Qt=p("input"),ee=m(),ne=p("span"),ne.textContent=":Tool #",ae=m(),le=p("div"),ie=p("h5"),re=p("input"),ce=m(),oe=p("span"),oe.textContent=":Name",he=m(),de=p("div"),pe=p("h5"),ge=p("input"),fe=m(),me=p("span"),me.textContent="in :Diameter",we=m(),xe=p("div"),ye=p("h5"),_e=p("input"),$e=m(),be=p("span"),be.textContent="in :Max cut depth",Ce=m(),Me=p("div"),Pe=p("h5"),Se=p("input"),Ee=m(),He=p("span"),He.textContent="in :Max depth/pass",Ne=m(),Oe=p("div"),je=p("h5"),We=p("input"),Be=m(),De=p("span"),De.textContent="RPM :Spindle speed",Ae=m(),Ge=p("div"),Te=p("h5"),Fe=p("input"),Le=m(),Ue=p("span"),Ue.textContent="in/min :Feed rate",ze=m(),qe=p("div"),Ke=p("h5"),Ve=p("input"),Xe=m(),Ze=p("span"),Ze.textContent="in/min :Plunge rate",Qe=m(),tn=p("div"),en=p("h5"),nn=p("input"),sn=m(),an=p("span"),an.textContent="in :Plunge ramp",x(a,"class","close svelte-13hrrru"),x(a,"role","button"),x(r,"data-lang",d=e[0].language),x(r,"data-fr","Parametre"),x(r,"class","svelte-13hrrru"),x(i,"class","title"),x(b,"data-lang",P=e[0].language),x(b,"data-fr","Nest apartir de"),x(b,"class","svelte-13hrrru"),x(H,"type","checkbox"),x(H,"class","svelte-13hrrru"),x(N,"class","slider direction svelte-13hrrru"),x(N,"data-lang",O=e[0].language),x(E,"class","switch svelte-13hrrru"),x(_,"class","input-wrapper"),x(D,"data-lang",A=e[0].language),x(D,"data-fr","Nest avec les"),x(D,"class","svelte-13hrrru"),x(F,"type","checkbox"),x(F,"class","svelte-13hrrru"),x(U,"class","slider type svelte-13hrrru"),x(U,"data-lang",Y=e[0].language),x(T,"class","switch svelte-13hrrru"),x(W,"class","input-wrapper"),x(K,"data-lang",X=e[0].language),x(K,"data-fr","Nest par le"),x(K,"class","svelte-13hrrru"),Q.__value="widest",Q.value=Q.__value,et.__value="tallest",et.value=et.__value,st.__value="biggest",st.value=st.__value,x(J,"class","svelte-13hrrru"),void 0===e[0].nestOrder&&B((()=>e[5].call(J))),x(q,"class","input-wrapper"),x(ct,"data-lang",ut=e[0].language),x(ct,"data-fr","Info sur les feuilles"),x(ct,"class","svelte-13hrrru"),x(pt,"class","input svelte-13hrrru"),x(pt,"type","number"),x(pt,"min","0"),x(pt,"max","61"),x(pt,"step","0.0625"),x(dt,"data-lang",mt=e[0].language),x(dt,"data-fr","po :Largeur"),x(dt,"class","svelte-13hrrru"),x(xt,"class","input svelte-13hrrru"),x(xt,"type","number"),x(xt,"min","0"),x(xt,"max","121"),x(xt,"step","0.0625"),x(wt,"data-lang",$t=e[0].language),x(wt,"data-fr","po :Hauteur"),x(wt,"class","svelte-13hrrru"),x(Ct,"class","input svelte-13hrrru"),x(Ct,"type","number"),x(Ct,"min","0"),x(Ct,"max","5"),x(Ct,"step","0.005"),x(kt,"data-lang",St=e[0].language),x(kt,"data-fr","po :Épaisseur"),x(kt,"class","svelte-13hrrru"),x(rt,"class","input-wrapper"),x(Nt,"class","input svelte-13hrrru"),x(Nt,"type","number"),x(Nt,"min","0"),x(Nt,"max",Ot=e[0].cnc[e[0].tool].max_depth),x(Nt,"step","0.05"),x(Rt,"data-lang",Dt=e[0].language),x(Rt,"data-fr","po :Profondeur coupe"),x(Rt,"class","svelte-13hrrru"),x(Ht,"class","input-wrapper"),x(Tt,"class","input svelte-13hrrru"),x(Tt,"type","number"),x(Tt,"min","0"),x(Tt,"max","5"),x(Tt,"step","0.05"),x(Gt,"data-lang",Ut=e[0].language),x(Gt,"data-fr","po :Marge"),x(Gt,"class","svelte-13hrrru"),x(At,"class","input-wrapper"),x(v,"class","general svelte-13hrrru"),x(Kt,"data-lang",Xt=e[0].language),x(Kt,"data-fr","Outil pour la decoupe"),x(Kt,"class","svelte-13hrrru"),x(Qt,"class","input svelte-13hrrru"),x(Qt,"type","number"),x(Qt,"step","1"),x(Qt,"min","1"),x(Qt,"max",te=Object.keys(e[0].cnc).length),x(Jt,"data-lang",se=e[0].language),x(Jt,"data-fr","Outil #: "),x(Jt,"class","svelte-13hrrru"),x(qt,"class","input-wrapper"),x(re,"class","input svelte-13hrrru"),x(re,"type","text"),x(ie,"data-lang",ue=e[0].language),x(ie,"data-fr"," :Nom"),x(ie,"class","svelte-13hrrru"),x(le,"class","input-wrapper"),x(ge,"class","input svelte-13hrrru"),x(ge,"type","number"),x(ge,"min","0"),x(ge,"step","0.03125"),x(pe,"data-lang",ve=e[0].language),x(pe,"data-fr","po :Diametre"),x(pe,"class","svelte-13hrrru"),x(de,"class","input-wrapper"),x(_e,"class","input svelte-13hrrru"),x(_e,"type","number"),x(_e,"min","0"),x(_e,"step","0.03125"),x(ye,"data-lang",ke=e[0].language),x(ye,"data-fr","po :Max profondeur coupe"),x(ye,"class","svelte-13hrrru"),x(xe,"class","input-wrapper"),x(Se,"class","input svelte-13hrrru"),x(Se,"type","number"),x(Se,"min","0"),x(Se,"step","0.03125"),x(Pe,"data-lang",Re=e[0].language),x(Pe,"data-fr","po :Max profondeur/passe"),x(Pe,"class","svelte-13hrrru"),x(Me,"class","input-wrapper"),x(We,"class","input svelte-13hrrru"),x(We,"type","number"),x(We,"min","0"),x(We,"step","100"),x(je,"data-lang",Ie=e[0].language),x(je,"data-fr","RPM :Vitesse spindle"),x(je,"class","svelte-13hrrru"),x(Oe,"class","input-wrapper"),x(Fe,"class","input svelte-13hrrru"),x(Fe,"type","number"),x(Fe,"min","0"),x(Fe,"step","10"),x(Te,"data-lang",Ye=e[0].language),x(Te,"data-fr","po/min :Vitesse de coupe"),x(Te,"class","svelte-13hrrru"),x(Ge,"class","input-wrapper"),x(Ve,"class","input svelte-13hrrru"),x(Ve,"type","number"),x(Ve,"min","0"),x(Ve,"step","5"),x(Ke,"data-lang",Je=e[0].language),x(Ke,"data-fr","po/min :Vitesse de plonge"),x(Ke,"class","svelte-13hrrru"),x(qe,"class","input-wrapper"),x(nn,"class","input svelte-13hrrru"),x(nn,"type","number"),x(nn,"min","0"),x(nn,"step","0.125"),x(en,"data-lang",ln=e[0].language),x(en,"data-fr","po :Longeur de plonge"),x(en,"class","svelte-13hrrru"),x(tn,"class","input-wrapper"),x(zt,"class","cnc svelte-13hrrru"),x(n,"class","settings svelte-13hrrru"),C(n,"active",e[0].show)},m(t,s){u(t,n,s),o(n,a),o(n,l),o(n,i),o(i,r),o(r,c),o(n,g),o(n,v),o(v,_),o(_,b),o(b,M),o(_,S),o(_,E),o(E,H),H.checked=e[0].nestDirectionBottom,o(E,R),o(E,N),o(v,j),o(v,W),o(W,D),o(D,I),o(W,G),o(W,T),o(T,F),F.checked=e[0].nestTypeColumn,o(T,L),o(T,U),o(v,z),o(v,q),o(q,K),o(K,V),o(q,Z),o(q,J),o(J,Q),o(Q,tt),o(J,et),o(et,nt),o(J,st),o(st,at),o(J,lt),k(J,e[0].nestOrder),o(v,it),o(v,rt),o(rt,ct),o(ct,ot),o(rt,ht),o(rt,dt),o(dt,pt),$(pt,e[0].material.width),o(dt,gt),o(dt,ft),o(rt,vt),o(rt,wt),o(wt,xt),$(xt,e[0].material.height),o(wt,yt),o(wt,_t),o(rt,bt),o(rt,kt),o(kt,Ct),$(Ct,e[0].material.thickness),o(kt,Mt),o(kt,Pt),o(v,Et),o(v,Ht),o(Ht,Rt),o(Rt,Nt),$(Nt,e[0].material.cut_depth),o(Rt,jt),o(Rt,Bt),o(v,It),o(v,At),o(At,Gt),o(Gt,Tt),$(Tt,e[0].material.margins),o(Gt,Ft),o(Gt,Lt),o(n,Yt),o(n,zt),o(zt,qt),o(qt,Kt),o(Kt,Vt),o(qt,Zt),o(qt,Jt),o(Jt,Qt),$(Qt,e[0].tool),o(Jt,ee),o(Jt,ne),o(zt,ae),o(zt,le),o(le,ie),o(ie,re),$(re,e[0].cnc[e[0].tool].name),o(ie,ce),o(ie,oe),o(zt,he),o(zt,de),o(de,pe),o(pe,ge),$(ge,e[0].cnc[e[0].tool].diameter),o(pe,fe),o(pe,me),o(zt,we),o(zt,xe),o(xe,ye),o(ye,_e),$(_e,e[0].cnc[e[0].tool].max_depth),o(ye,$e),o(ye,be),o(zt,Ce),o(zt,Me),o(Me,Pe),o(Pe,Se),$(Se,e[0].cnc[e[0].tool].pass_depth),o(Pe,Ee),o(Pe,He),o(zt,Ne),o(zt,Oe),o(Oe,je),o(je,We),$(We,e[0].cnc[e[0].tool].spindle),o(je,Be),o(je,De),o(zt,Ae),o(zt,Ge),o(Ge,Te),o(Te,Fe),$(Fe,e[0].cnc[e[0].tool].feed),o(Te,Le),o(Te,Ue),o(zt,ze),o(zt,qe),o(qe,Ke),o(Ke,Ve),$(Ve,e[0].cnc[e[0].tool].plunge),o(Ke,Xe),o(Ke,Ze),o(zt,Qe),o(zt,tn),o(tn,en),o(en,nn),$(nn,e[0].cnc[e[0].tool].ramp),o(en,sn),o(en,an),rn||(cn=[w(a,"click",e[2]),w(H,"change",e[3]),w(F,"change",e[4]),w(J,"change",e[5]),w(pt,"click",Wt),w(pt,"input",e[6]),w(xt,"click",Wt),w(xt,"input",e[7]),w(Ct,"click",Wt),w(Ct,"input",e[8]),w(Nt,"click",Wt),w(Nt,"input",e[9]),w(Tt,"click",Wt),w(Tt,"input",e[10]),w(Qt,"click",Wt),w(Qt,"input",e[11]),w(re,"click",Wt),w(re,"input",e[12]),w(ge,"click",Wt),w(ge,"input",e[13]),w(_e,"click",Wt),w(_e,"input",e[14]),w(Se,"click",Wt),w(Se,"input",e[15]),w(We,"click",Wt),w(We,"input",e[16]),w(Fe,"click",Wt),w(Fe,"input",e[17]),w(Ve,"click",Wt),w(Ve,"input",e[18]),w(nn,"click",Wt),w(nn,"input",e[19])],rn=!0)},p(t,[e]){1&e&&d!==(d=t[0].language)&&x(r,"data-lang",d),1&e&&P!==(P=t[0].language)&&x(b,"data-lang",P),1&e&&(H.checked=t[0].nestDirectionBottom),1&e&&O!==(O=t[0].language)&&x(N,"data-lang",O),1&e&&A!==(A=t[0].language)&&x(D,"data-lang",A),1&e&&(F.checked=t[0].nestTypeColumn),1&e&&Y!==(Y=t[0].language)&&x(U,"data-lang",Y),1&e&&X!==(X=t[0].language)&&x(K,"data-lang",X),1&e&&k(J,t[0].nestOrder),1&e&&ut!==(ut=t[0].language)&&x(ct,"data-lang",ut),1&e&&y(pt.value)!==t[0].material.width&&$(pt,t[0].material.width),1&e&&mt!==(mt=t[0].language)&&x(dt,"data-lang",mt),1&e&&y(xt.value)!==t[0].material.height&&$(xt,t[0].material.height),1&e&&$t!==($t=t[0].language)&&x(wt,"data-lang",$t),1&e&&y(Ct.value)!==t[0].material.thickness&&$(Ct,t[0].material.thickness),1&e&&St!==(St=t[0].language)&&x(kt,"data-lang",St),1&e&&Ot!==(Ot=t[0].cnc[t[0].tool].max_depth)&&x(Nt,"max",Ot),1&e&&y(Nt.value)!==t[0].material.cut_depth&&$(Nt,t[0].material.cut_depth),1&e&&Dt!==(Dt=t[0].language)&&x(Rt,"data-lang",Dt),1&e&&y(Tt.value)!==t[0].material.margins&&$(Tt,t[0].material.margins),1&e&&Ut!==(Ut=t[0].language)&&x(Gt,"data-lang",Ut),1&e&&Xt!==(Xt=t[0].language)&&x(Kt,"data-lang",Xt),1&e&&te!==(te=Object.keys(t[0].cnc).length)&&x(Qt,"max",te),1&e&&y(Qt.value)!==t[0].tool&&$(Qt,t[0].tool),1&e&&se!==(se=t[0].language)&&x(Jt,"data-lang",se),1&e&&re.value!==t[0].cnc[t[0].tool].name&&$(re,t[0].cnc[t[0].tool].name),1&e&&ue!==(ue=t[0].language)&&x(ie,"data-lang",ue),1&e&&y(ge.value)!==t[0].cnc[t[0].tool].diameter&&$(ge,t[0].cnc[t[0].tool].diameter),1&e&&ve!==(ve=t[0].language)&&x(pe,"data-lang",ve),1&e&&y(_e.value)!==t[0].cnc[t[0].tool].max_depth&&$(_e,t[0].cnc[t[0].tool].max_depth),1&e&&ke!==(ke=t[0].language)&&x(ye,"data-lang",ke),1&e&&y(Se.value)!==t[0].cnc[t[0].tool].pass_depth&&$(Se,t[0].cnc[t[0].tool].pass_depth),1&e&&Re!==(Re=t[0].language)&&x(Pe,"data-lang",Re),1&e&&y(We.value)!==t[0].cnc[t[0].tool].spindle&&$(We,t[0].cnc[t[0].tool].spindle),1&e&&Ie!==(Ie=t[0].language)&&x(je,"data-lang",Ie),1&e&&y(Fe.value)!==t[0].cnc[t[0].tool].feed&&$(Fe,t[0].cnc[t[0].tool].feed),1&e&&Ye!==(Ye=t[0].language)&&x(Te,"data-lang",Ye),1&e&&y(Ve.value)!==t[0].cnc[t[0].tool].plunge&&$(Ve,t[0].cnc[t[0].tool].plunge),1&e&&Je!==(Je=t[0].language)&&x(Ke,"data-lang",Je),1&e&&y(nn.value)!==t[0].cnc[t[0].tool].ramp&&$(nn,t[0].cnc[t[0].tool].ramp),1&e&&ln!==(ln=t[0].language)&&x(en,"data-lang",ln),1&e&&C(n,"active",t[0].show)},i:t,o:t,d(t){t&&h(n),rn=!1,s(cn)}}}function Wt(){this.select()}function Bt(t,e,n){let s;i(t,et,(t=>n(0,s=t)));const a="fr"===s.language;return[s,a,()=>c(et,s.show=!1,s),function(){s.nestDirectionBottom=this.checked,et.set(s)},function(){s.nestTypeColumn=this.checked,et.set(s)},function(){s.nestOrder=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),et.set(s)},function(){s.material.width=y(this.value),et.set(s)},function(){s.material.height=y(this.value),et.set(s)},function(){s.material.thickness=y(this.value),et.set(s)},function(){s.material.cut_depth=y(this.value),et.set(s)},function(){s.material.margins=y(this.value),et.set(s)},function(){s.tool=y(this.value),et.set(s)},function(){s.cnc[s.tool].name=this.value,et.set(s)},function(){s.cnc[s.tool].diameter=y(this.value),et.set(s)},function(){s.cnc[s.tool].max_depth=y(this.value),et.set(s)},function(){s.cnc[s.tool].pass_depth=y(this.value),et.set(s)},function(){s.cnc[s.tool].spindle=y(this.value),et.set(s)},function(){s.cnc[s.tool].feed=y(this.value),et.set(s)},function(){s.cnc[s.tool].plunge=y(this.value),et.set(s)},function(){s.cnc[s.tool].ramp=y(this.value),et.set(s)}]}class Dt extends V{constructor(t){super(),K(this,t,Bt,jt,l,{})}}let It="widest";function At(t,e){It=e.nestOrder;let n=[],s=e.nestDirectionBottom,a=e.nestTypeColumn,l=e.cnc[e.tool].diameter||.375,i={width:e.material.width||49,height:e.material.height||97,margins:e.material.margins||.25,max_width:()=>i.width-2*i.margins-l,max_height:()=>i.height-2*i.margins-l};return{sheets:function(t){let e=new Yt;if(a){let n=function(t){let e=new Yt;for(;t.notPlaced().length>0;){let n=c(t);e.push(new Ft(n.columnWidth(),n.columnHeight(),n.totalArea(),n,It))}return e}(t);for(;n.notPlaced().length>0;){let t=o(n);d(t),e.push(new Ut(t.rowWidth(),t.rowHeight(),t.totalArea(),t.map((t=>t.group)).flatten(2),t,e.length+1,i))}}else{let n=function(t){let e=new Yt;for(;t.notPlaced().length>0;){let n=r(t);e.push(new Lt(n.rowWidth(),n.rowHeight(),n.totalArea(),n,It))}return e}(t);for(;n.notPlaced().length>0;){let t=u(n);h(t),e.push(new Ut(t.columnWidth(),t.columnHeight(),t.totalArea(),t.map((t=>t.group)).flatten(2),t,e.length+1,i))}}return e}(new Yt(t.flatMap((t=>function([t,e,s,a]){return r();function r(){return s>i.max_width()||a>i.max_height()?(n.push(`Panneau ${t} est trop gros`),[]):s&&a&&e?c():[]}function c(n=0,i=[]){for(s+=l,a+=l;e>n++;){let l="";e>1&&(l=`${n} sur ${e}`),i.push([l,t,s,a,It])}return i}}(t).map((t=>new Tt(t)))))).flat()),errors:n};function r(t){let e=new Yt(t.placementBy().place()),n=e[0].height;for(;t.fitsRow(e,i.max_width());){let s=new Yt(t.fitsRow(e,i.max_width()).place());for(;t.fitsColumn(s,n);)s.push(t.fitsColumn(s,n).place());1===s.length?e.push(s[0]):e.push(s)}return e.ascendingHeight()}function c(t){let e=new Yt(t.placementBy().place()),n=e[0].width;for(;t.fitsColumn(e,i.max_height());){let s=new Yt(t.fitsColumn(e,i.max_height()).place());for(;t.fitsRow(s,n);)s.push(t.fitsRow(s,n).place());1===s.length?e.push(s[0]):e.push(s)}return e.ascendingWidth()}function o(t){let e=new Yt(t.placementBy().place());for(;t.fitsSheetColumn(e,i.max_width());)e.push(t.fitsSheetColumn(e,i.max_width()).place());return e.ascendingHeight()}function u(t){let e=new Yt(t.placementBy().place());for(;t.fitsSheetRow(e,i.max_height());)e.push(t.fitsSheetRow(e,i.max_height()).place());return e.ascendingWidth()}function h(t){let e=i.margins-l/2,n=new Yt;t.forEach(((a,l)=>{0===l?n.push(s?e:i.height-e-a.height):n.push(s?n.last()+t[l-1].height:n.last()-a.height);let r=new Yt;a.group.forEach(((s,a,i)=>{r.push(p(a)?e:r.last()+i[a-1].columnWidth());let c=p(l)&&t.length>1;s instanceof Tt?(s.y=c?n[l]+t[l].height-s.height:n[l],s.x=r[a]):s.forEach(((e,i)=>{e.y=p(i)?c?n[l]+t[l].height-e.height:n[l]:c?s[i-1].y-e.height:s[i-1].y+s[i-1].height,e.x=r[a]}))}))}))}function d(t){let e=i.margins-l/2,n=new Yt;t.forEach(((a,l)=>{0===l?n.push(e):n.push(n.last()+t[l-1].width);let r=new Yt;a.group.forEach(((a,c,o)=>{r.push(p(c)?s?e:i.height-e-a.rowHeight():s?r.last()+o[c-1].rowHeight():r.last()-a.rowHeight());let u=p(l)&&t.length>1;a instanceof Tt?(a.x=u?n[l]+t[l].width-a.width:n[l],a.y=r[c]):a.forEach(((e,i)=>{e.x=p(i)?u?n[l]+t[l].width-e.width:n[l]:u?a[i-1].x-e.width:a[i-1].x+a[i-1].width,e.y=s?r[c]:r[c-1]-e.height}))}))}))}function p(t){return 0===t}}class Gt{constructor(t){this.placed=!1,this.nestOrder=t}place(){return this.placed=!0,this}}class Tt extends Gt{constructor([t,e,n,s,a]){super(a),this.nestOrder=a,this.quantityID=t,this.id=e,this.width=n,this.height=s,this.area=this.height*this.width,this.x=0,this.y=0}columnWidth(){return this.width}rowHeight(){return this.height}}class Ft extends Gt{constructor(t,e,n,s,a){super(a),this.width=t,this.height=e,this.area=n,this.group=s}}class Lt extends Ft{constructor(t,e,n,s,a){super(t,e,n,s,a)}}class Ut extends Ft{constructor(t,e,n,s,a,l,i){super(t,e,n,s),this.columns=a,this.sheet_width=i.width,this.sheet_height=i.height,this.sheet_area=i.width*i.height,this.waste_area=this.sheet_area-this.area,this.waste_ratio=1-this.area/this.sheet_area,this.id="Feuille "+l,delete this.placed}}class Yt extends Array{first(){return this[0]}last(){return this[this.length-1]}flatten(t=1){let e=this;for(;t--;)e=e.flat();return e}ascendingWidth(){return new Yt(...this).sort(((t,e)=>e.width!=t.width?e.width-t.width:e.height-t.height))}ascendingHeight(){return new Yt(...this).sort(((t,e)=>e.height!=t.height?e.height-t.height:e.width-t.width))}notPlaced(){return this.filter((t=>!t.placed))}widest(){return this.notPlaced().ascendingWidth().first()}narrowest(){return this.notPlaced().ascendingWidth().last()}tallest(){return this.notPlaced().ascendingHeight().first()}shortest(){return this.notPlaced().ascendingHeight().last()}biggest(){return this.sort(((t,e)=>e.area-t.area)).notPlaced().first()}smallest(){return this.sort(((t,e)=>t.area-e.area)).notPlaced().first()}placementBy(){return{widest:this.widest(),tallest:this.tallest(),biggest:this.biggest()}[this.length?this[0].nestOrder:""]}totalWidth(){return this.reduce(((t,e)=>e instanceof Yt?t+e.ascendingWidth().first().width:t+e.width),0)}totalHeight(){return this.reduce(((t,e)=>e instanceof Yt?t+e.ascendingHeight().first().height:t+e.height),0)}totalArea(){return this.flatten(3).reduce(((t,e)=>t+e.area),0)}columnWidth(){return this.flat().ascendingWidth().first().width}columnHeight(){return this.totalHeight()}rowWidth(){return this.totalWidth()}rowHeight(){return this.flat().ascendingHeight().first().height}remainingWidth(t){return t-this.totalWidth()}remainingHeight(t){return t-this.totalHeight()}fitsColumn(t,e){return this.filter((e=>e.width<=t[0].width)).fitsSheetRow(t,e)}fitsRow(t,e){return this.filter((e=>e.height<=t[0].height)).fitsSheetColumn(t,e)}fitsSheetColumn(t,e){return this.notPlaced().filter((n=>n.width<t.remainingWidth(e))).placementBy()}fitsSheetRow(t,e){return this.notPlaced().filter((n=>n.height<t.remainingHeight(e))).placementBy()}}function zt(t,e){const n=t.sheets,s=e.tool,a=e.cnc[s].spindle,l=e.cnc[s].feed,i=e.cnc[s].plunge,r=e.cnc[s].ramp,c=e.material.width/2||30,o=Math.min(e.material.height+10,122),u=e.material.thickness+.25||2,h=e.material.thickness,d=lt(Math.max(h-e.material.cut_depth,0)),p=e.cnc[s].pass_depth,g=d+e.material.link,f=e.language.includes("fr");let m=[...function(e,s){let[,,,a,,l]=t.csv.contents[0];return[`( ${ct(new Date,"dd.mm.yyyy HH:MM")} )`,`( ${t.name} )`,l?`( ${l} )`:"",a?`( ${n.length} ${f?"feuilles de":"sheets of"} ${a} )`:`( ${n.length} ${f?"feuilles a couper":"sheets to cut"} )`,"G40 G80 G70","M06 T"+e,"G43 H"+e,`S${s} M03`,"G54 G90"]}(s,a)];return n.forEach((t=>{m.push(`( ${t.id} )`),t.columns.forEach(((t,n)=>{t.group.flat().sort(((t,s)=>e.nestTypeColumn?function(t,e,n){return n%2==0?e.y!==t.y?e.y-t.y:t.x-e.x:t.y!==e.y?t.y-e.y:e.x-t.x}(t,s,n):function(t,e,n){return n%2==0?t.x!==e.x?t.x-e.x:t.y-e.y:e.x!==t.x?e.x-t.x:e.y-t.y}(t,s,n))).forEach((t=>m.push(function(t){const e=lt(t.x),n=lt(t.y),s=lt(e+t.width),a=lt(n+t.height),c=lt(a-r);function o(){const r=t=>[x(e,a,t,i),y(l),_(s),$(n),_(e),$(c)];if(!d&&(t.width<5||t.height<5))return r(g);if(p>=h)return"";let o=[],u=h-p;for(;u>d;)o.push(r(u)),u-=p;return o.flat()}return[`( ${f?"coupe panneau":"cutting panel"} ${t.id} )`,t.uniqueID?`( ${t.uniqueID} )`:"",v(e,c,u),b(h+.02),o(),x(e,a,d,i),y(l),_(s),$(n),_(e),$(a),w(u),`( ${f?"fin panneau":"finished panel"} ${t.id} )`]}(t))))})),m.push(["M05 M104",`G90 X${qt(c)} Y${qt(o)}`,"M00","( changez la feuille et )","( cycle start :)","M103 M03"])})),m.pop(),m.push(["G40 G80 G91 G28 Z0 M5",`G00 G90 X${qt(c)} Y${qt(o)}`,"M30"]),m.flat().flat().filter((t=>""!==t)).join("\n");function v(t,e,n){return`G00 X${qt(t)} Y${qt(e)} Z${qt(n)}`}function w(t){return"G00 Z"+qt(t)}function x(t,e,n,s){return`G01 X${qt(t)} Y${qt(e)} Z${qt(n)} F${s}`}function y(t){return"G01 F"+t}function _(t){return"X"+qt(t)}function $(t){return"Y"+qt(t)}function b(t){return"Z"+qt(t)}}function qt(t){return/\./.test(t)||0===t?t:t.toFixed(1)}function Kt(t){let e;return{c(){e=p("div"),e.innerHTML='<div class="splash-img svelte-1skvj2s"></div> \n        <h1 class="svelte-1skvj2s"><span>Ahhh! Nest:</span></h1> \n        <h6 class="svelte-1skvj2s"><span>sauver une feuille, peut-être deux</span></h6>',x(e,"class","splash svelte-1skvj2s")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function Vt(t){let e,n,a,l,i,r,c,d,g,f,v,y,_,$,b;l=new mt({}),l.$on("update",t[2]),r=new Ct({}),r.$on("update",t[2]),d=new Dt({}),v=new Ot({});let k=!t[0].sheets.length&&Kt();return{c(){e=m(),n=p("div"),a=p("div"),U(l.$$.fragment),i=m(),U(r.$$.fragment),c=m(),U(d.$$.fragment),g=m(),f=p("div"),U(v.$$.fragment),y=m(),k&&k.c(),x(a,"class","import svelte-1skvj2s"),x(f,"class","main"),x(n,"class","container svelte-1skvj2s")},m(s,h){u(s,e,h),u(s,n,h),o(n,a),Y(l,a,null),o(a,i),Y(r,a,null),o(a,c),Y(d,a,null),o(n,g),o(n,f),Y(v,f,null),o(f,y),k&&k.m(f,null),_=!0,$||(b=[w(document.body,"change",t[2]),w(f,"click",t[3])],$=!0)},p(t,[e]){t[0].sheets.length?k&&(k.d(1),k=null):k||(k=Kt(),k.c(),k.m(f,null))},i(t){_||(F(l.$$.fragment,t),F(r.$$.fragment,t),F(d.$$.fragment,t),F(v.$$.fragment,t),_=!0)},o(t){L(l.$$.fragment,t),L(r.$$.fragment,t),L(d.$$.fragment,t),L(v.$$.fragment,t),_=!1},d(t){t&&h(e),t&&h(n),z(l),z(r),z(d),z(v),k&&k.d(),$=!1,s(b)}}}function Xt(t,e,n){let s,a;function l(){c(nt,s.name=s.csv.contents[0][1],s),c(nt,s.csv.panels=s.csv.contents.slice(s.csv.headerRows),s),function(){let t=At(e(),a);function e(){return a.units?s.csv.panels.map((t=>[t[0],t[1],rt(t[2]),rt(t[3])])):s.csv.panels}c(nt,s.sheets=t.sheets,s),c(nt,s.errors=t.errors,s)}(),c(nt,s.csv.output=s.csv.contents.join("\n"),s),c(nt,s.cnc=zt(s,a),s)}i(t,nt,(t=>n(0,s=t))),i(t,et,(t=>n(1,a=t))),l();return[s,a,l,()=>c(et,a.show=!1,a)]}return new class extends V{constructor(t){super(),K(this,t,Xt,Vt,l,{})}}({target:document.body})}();
//# sourceMappingURL=app.js.map
